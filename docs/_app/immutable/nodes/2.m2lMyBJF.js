var sn=e=>{throw TypeError(e)};var St=(e,n,a)=>n.has(e)||sn("Cannot "+a);var ue=(e,n,a)=>(St(e,n,"read from private field"),a?a.call(e):n.get(e)),Ie=(e,n,a)=>n.has(e)?sn("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,a),ln=(e,n,a,h)=>(St(e,n,"write to private field"),h?h.call(e,a):n.set(e,a),a),Mt=(e,n,a)=>(St(e,n,"access private method"),a);import{b as De,t as He}from"../chunks/disclose-version.bo3_6Oli.js";import{q as ce,h as bi,z as Oi,y as Vi,l as Gn,V as $i,W as fn,c as un,s as Ct,d as Ee,Q as Xn,o as Yn,R as Hi,ao as Pt,r as cn,ap as Ui,aq as zi,ar as Wi,C as Gi,L as hn,as as Xi,at as Yi,k as Ki,au as Qi,an as Zi,e as Ji,a as qi,X as ji,Z as er,Y as tr,av as nr,aw as ir,ax as rr,P as vn,ay as ar,aj as zt,ak as z,F as kt,D as J,az as or,p as Kn,ah as Rt,aA as gn,G as it,I as rt,t as Qn,E as Se,al as Me,a8 as sr,aB as pn}from"../chunks/runtime.DJY7qBq_.js";import{c as lr,e as Bt}from"../chunks/svelte-head.CarGs0iB.js";import{p as ke,a as at,b as Je,i as fr}from"../chunks/props.OKyIj_bu.js";let At=null;function ur(e,n){return n}function cr(e,n,a,h){for(var r=[],t=n.length,o=0;o<t;o++)Yi(n[o].e,r,!0);var s=t>0&&r.length===0&&a!==null;if(s){var l=a.parentNode;Ki(l),l.append(a),h.clear(),fe(e,n[0].prev,n[t-1].next)}Qi(r,()=>{for(var u=0;u<t;u++){var f=n[u];s||(h.delete(f.k),fe(e,f.prev,f.next)),Zi(f.e,!s)}})}function hr(e,n,a,h,r,t=null){var o=e,s={flags:n,items:new Map,first:null};ce&&bi();var l=null,u=!1;Oi(()=>{var f=a(),p=Vi(f)?f:f==null?[]:Gn(f),c=p.length;if(u&&c===0)return;u=c===0;let i=!1;if(ce){var v=o.data===$i;v!==(c===0)&&(o=fn(),un(o),Ct(!1),i=!0)}if(ce){for(var g=null,d,y=0;y<c;y++){if(Ee.nodeType===8&&Ee.data===Ji){o=Ee,i=!0,Ct(!1);break}var P=p[y],T=h(P,y);d=Zn(Ee,s,g,null,P,T,y,r,n),s.items.set(T,d),g=d}c>0&&un(fn())}ce||vr(p,s,o,r,n,h),t!==null&&(c===0?l?Xn(l):l=Yn(()=>t(o)):l!==null&&Hi(l,()=>{l=null})),i&&Ct(!0),a()}),ce&&(o=Ee)}function vr(e,n,a,h,r,t){var o=e.length,s=n.items,l=n.first,u=l,f,p=null,c=[],i=[],v,g,d,y;for(y=0;y<o;y+=1){if(v=e[y],g=t(v,y),d=s.get(g),d===void 0){var P=u?u.e.nodes_start:a;p=Zn(P,n,p,p===null?n.first:p.next,v,g,y,h,r),s.set(g,p),c=[],i=[],u=p.next;continue}if(gr(d,v,y),d.e.f&Pt&&Xn(d.e),d!==u){if(f!==void 0&&f.has(d)){if(c.length<i.length){var T=i[0],E;p=T.prev;var m=c[0],x=c[c.length-1];for(E=0;E<c.length;E+=1)dn(c[E],T,a);for(E=0;E<i.length;E+=1)f.delete(i[E]);fe(n,m.prev,x.next),fe(n,p,m),fe(n,x,T),u=T,p=x,y-=1,c=[],i=[]}else f.delete(d),dn(d,u,a),fe(n,d.prev,d.next),fe(n,d,p===null?n.first:p.next),fe(n,p,d),p=d;continue}for(c=[],i=[];u!==null&&u.k!==g;)u.e.f&Pt||(f??(f=new Set)).add(u),i.push(u),u=u.next;if(u===null)continue;d=u}c.push(d),p=d,u=d.next}if(u!==null||f!==void 0){for(var M=f===void 0?[]:Gn(f);u!==null;)u.e.f&Pt||M.push(u),u=u.next;var w=M.length;if(w>0){var C=null;cr(n,M,C,s)}}cn.first=n.first&&n.first.e,cn.last=p&&p.e}function gr(e,n,a,h){Ui(e.v,n),e.i=a}function Zn(e,n,a,h,r,t,o,s,l){var u=At;try{var f=(l&zi)!==0,p=(l&Wi)===0,c=f?p?Gi(r):hn(r):r,i=l&Xi?hn(o):o,v={i,v:c,k:t,a:null,e:null,prev:a,next:h};return At=v,v.e=Yn(()=>s(e,c,i),ce),v.e.prev=a&&a.e,v.e.next=h&&h.e,a===null?n.first=v:(a.next=v,a.e.next=v.e),h!==null&&(h.prev=v,h.e.prev=v.e),v}finally{At=u}}function dn(e,n,a){for(var h=e.next?e.next.e.nodes_start:a,r=n?n.e.nodes_start:a,t=e.e.nodes_start;t!==h;){var o=qi(t);r.before(t),t=o}}function fe(e,n,a){n===null?e.first=a:(n.next=a,n.e.next=a&&a.e),a!==null&&(a.prev=n,a.e.prev=n&&n.e)}function pr(e,n,a){ji(()=>{var h=er(()=>n(e,a==null?void 0:a())||{});if(a&&(h!=null&&h.update)){var r=!1,t={};tr(()=>{var o=a();nr(o),r&&ir(t,o)&&(t=o,h.update(o))}),r=!0}if(h!=null&&h.destroy)return()=>h.destroy()})}function Q(e,n,a,h){var r=e.__attributes??(e.__attributes={});ce&&(r[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName==="LINK")||r[n]!==(r[n]=a)&&(n==="loading"&&(e[rr]=a),a==null?e.removeAttribute(n):typeof a!="string"&&dr(e).includes(n)?e[n]=a:e.setAttribute(n,a))}var mn=new Map;function dr(e){var n=mn.get(e.nodeName);if(n)return n;mn.set(e.nodeName,n=[]);for(var a,h=vn(e);h.constructor.name!=="Element";){a=ar(h);for(var r in a)a[r].set&&n.push(r);h=vn(h)}return n}function xn(e,n,a,h,r){var t=e.__attributes??(e.__attributes={}),o=e.style,s="style-"+n;t[s]===a&&!r||(t[s]=a,a==null?o.removeProperty(n):o.setProperty(n,a,""))}var mr=He('<link rel="preload" as="font" type="font/woff2" crossorigin="">'),xr=He('<meta name="description"> <meta name="author" content="The Pudding"> <meta name="news_keywords"> <meta property="og:title"> <meta property="og:site_name" content="The Pudding"> <meta property="og:url"> <meta property="og:description"> <meta property="og:type" content="article"> <meta property="og:locale" content="en_US"> <meta property="og:image"> <meta property="og:image:type" content="image/jpeg"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="628"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="https://pudding.cool"> <meta name="twitter:creator" content="@puddingviz"> <meta name="twitter:title"> <meta name="twitter:description"> <meta name="twitter:image:src"> <meta name="robots" content="max-image-preview:large"> <link rel="canonical"> <!>',1);function yr(e,n){let a=ke(n,"title",3,"Title TK"),h=ke(n,"description",3,"Description TK"),r=ke(n,"url",3,"https://pudding.cool"),t=ke(n,"keywords",3,""),o=ke(n,"preloadFont",19,()=>[]);lr(s=>{var l=xr(),u=zt(l),f=z(u,4),p=z(f,2),c=z(p,4),i=z(c,2),v=z(i,6),g=z(v,14),d=z(g,2),y=z(d,2),P=z(y,4),T=z(P,2);hr(T,17,o,ur,(E,m)=>{var x=mr();kt(()=>Q(x,"href",J(m))),De(E,x)}),kt(()=>{or.title=a(),Q(u,"content",h()),Q(f,"content",t()),Q(p,"content",a()),Q(c,"content",r()),Q(i,"content",h()),Q(v,"content",`${r()??""}/assets/social-facebook.jpg`),Q(g,"content",a()),Q(d,"content",h()),Q(y,"content",`${r()??""}/assets/social-twitter.jpg`),Q(P,"href",`${r()??""}/`)}),De(s,l)})}var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wr="Expected a function",yn=NaN,Sr="[object Symbol]",Mr=/^\s+|\s+$/g,Cr=/^[-+]0x[0-9a-f]+$/i,Pr=/^0b[01]+$/i,Ar=/^0o[0-7]+$/i,Tr=parseInt,Ir=typeof he=="object"&&he&&he.Object===Object&&he,Er=typeof self=="object"&&self&&self.Object===Object&&self,kr=Ir||Er||Function("return this")(),Rr=Object.prototype,Br=Rr.toString,_r=Math.max,Nr=Math.min,Tt=function(){return kr.Date.now()};function Dr(e,n,a){var h,r,t,o,s,l,u=0,f=!1,p=!1,c=!0;if(typeof e!="function")throw new TypeError(wr);n=wn(n)||0,_t(a)&&(f=!!a.leading,p="maxWait"in a,t=p?_r(wn(a.maxWait)||0,n):t,c="trailing"in a?!!a.trailing:c);function i(x){var M=h,w=r;return h=r=void 0,u=x,o=e.apply(w,M),o}function v(x){return u=x,s=setTimeout(y,n),f?i(x):o}function g(x){var M=x-l,w=x-u,C=n-M;return p?Nr(C,t-w):C}function d(x){var M=x-l,w=x-u;return l===void 0||M>=n||M<0||p&&w>=t}function y(){var x=Tt();if(d(x))return P(x);s=setTimeout(y,g(x))}function P(x){return s=void 0,c&&h?i(x):(h=r=void 0,o)}function T(){s!==void 0&&clearTimeout(s),u=0,h=l=r=s=void 0}function E(){return s===void 0?o:P(Tt())}function m(){var x=Tt(),M=d(x);if(h=arguments,r=this,l=x,M){if(s===void 0)return v(l);if(p)return s=setTimeout(y,n),i(l)}return s===void 0&&(s=setTimeout(y,n)),o}return m.cancel=T,m.flush=E,m}function _t(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function Fr(e){return!!e&&typeof e=="object"}function Lr(e){return typeof e=="symbol"||Fr(e)&&Br.call(e)==Sr}function wn(e){if(typeof e=="number")return e;if(Lr(e))return yn;if(_t(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=_t(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(Mr,"");var a=Pr.test(e);return a||Ar.test(e)?Tr(e.slice(2),a?2:8):Cr.test(e)?yn:+e}var br=Dr;const qn=Jn(br);function Or(e,n={}){let a,h,r;const t=s=>{const l=h===void 0;for(const u of s){const{width:f,height:p}=u.contentRect,c=n.exclude!=="width"&&f!==h,i=n.exclude!=="height"&&p!==r;(c||i)&&(h=f,r=p,l||e.dispatchEvent(new CustomEvent("resize")))}},o=()=>{a&&a.disconnect();const s=n.debounce?qn(t,n.debounce):t;a=new ResizeObserver(s),a.observe(e)};return o(),n.start&&e.dispatchEvent(new CustomEvent("resize")),{update(s){o()},destroy(){a&&a.disconnect()}}}var jn={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(e,n){(function(h,r){e.exports=r()})(he,function(){return function(a){var h={};function r(t){if(h[t])return h[t].exports;var o=h[t]={i:t,l:!1,exports:{}};return a[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=a,r.c=h,r.d=function(t,o,s){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:s})},r.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(o&1&&(t=r(t)),o&8||o&4&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),o&2&&typeof t!="string")for(var l in t)r.d(s,l,(function(u){return t[u]}).bind(null,l));return s},r.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="",r(r.s=20)}([function(a,h){var r={};a.exports=r,function(){r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(o,s){var l,u;typeof s=="boolean"?(l=2,u=s):(l=1,u=!0);for(var f=l;f<arguments.length;f++){var p=arguments[f];if(p)for(var c in p)u&&p[c]&&p[c].constructor===Object&&(!o[c]||o[c].constructor===Object)?(o[c]=o[c]||{},r.extend(o[c],u,p[c])):o[c]=p[c]}return o},r.clone=function(o,s){return r.extend({},s,o)},r.keys=function(o){if(Object.keys)return Object.keys(o);var s=[];for(var l in o)s.push(l);return s},r.values=function(o){var s=[];if(Object.keys){for(var l=Object.keys(o),u=0;u<l.length;u++)s.push(o[l[u]]);return s}for(var f in o)s.push(o[f]);return s},r.get=function(o,s,l,u){s=s.split(".").slice(l,u);for(var f=0;f<s.length;f+=1)o=o[s[f]];return o},r.set=function(o,s,l,u,f){var p=s.split(".").slice(u,f);return r.get(o,s,0,-1)[p[p.length-1]]=l,l},r.shuffle=function(o){for(var s=o.length-1;s>0;s--){var l=Math.floor(r.random()*(s+1)),u=o[s];o[s]=o[l],o[l]=u}return o},r.choose=function(o){return o[Math.floor(r.random()*o.length)]},r.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},r.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},r.isFunction=function(o){return typeof o=="function"},r.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},r.isString=function(o){return toString.call(o)==="[object String]"},r.clamp=function(o,s,l){return o<s?s:o>l?l:o},r.sign=function(o){return o<0?-1:1},r.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(o,s){return o=typeof o<"u"?o:0,s=typeof s<"u"?s:1,o+t()*(s-o)};var t=function(){return r._seed=(r._seed*9301+49297)%233280,r._seed/233280};r.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[o]||(r.warn(o),r._warnedOnce[o]=!0)},r.deprecated=function(o,s,l){o[s]=r.chain(function(){r.warnOnce("🔅 deprecated 🔅",l)},o[s])},r.nextId=function(){return r._nextId++},r.indexOf=function(o,s){if(o.indexOf)return o.indexOf(s);for(var l=0;l<o.length;l++)if(o[l]===s)return l;return-1},r.map=function(o,s){if(o.map)return o.map(s);for(var l=[],u=0;u<o.length;u+=1)l.push(s(o[u]));return l},r.topologicalSort=function(o){var s=[],l=[],u=[];for(var f in o)!l[f]&&!u[f]&&r._topologicalSort(f,l,u,o,s);return s},r._topologicalSort=function(o,s,l,u,f){var p=u[o]||[];l[o]=!0;for(var c=0;c<p.length;c+=1){var i=p[c];l[i]||s[i]||r._topologicalSort(i,s,l,u,f)}l[o]=!1,s[o]=!0,f.push(o)},r.chain=function(){for(var o=[],s=0;s<arguments.length;s+=1){var l=arguments[s];l._chained?o.push.apply(o,l._chained):o.push(l)}var u=function(){for(var f,p=new Array(arguments.length),c=0,i=arguments.length;c<i;c++)p[c]=arguments[c];for(c=0;c<o.length;c+=1){var v=o[c].apply(f,p);typeof v<"u"&&(f=v)}return f};return u._chained=o,u},r.chainPathBefore=function(o,s,l){return r.set(o,s,r.chain(l,r.get(o,s)))},r.chainPathAfter=function(o,s,l){return r.set(o,s,r.chain(r.get(o,s),l))},r.setDecomp=function(o){r._decomp=o},r.getDecomp=function(){var o=r._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof he<"u"&&(o=he.decomp)}catch{o=null}return o}}()},function(a,h){var r={};a.exports=r,function(){r.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&r.update(o,t),o},r.update=function(t,o,s){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<o.length;l++){var u=o[l];u.x>t.max.x&&(t.max.x=u.x),u.x<t.min.x&&(t.min.x=u.x),u.y>t.max.y&&(t.max.y=u.y),u.y<t.min.y&&(t.min.y=u.y)}s&&(s.x>0?t.max.x+=s.x:t.min.x+=s.x,s.y>0?t.max.y+=s.y:t.min.y+=s.y)},r.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},r.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},r.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},r.shift=function(t,o){var s=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+s,t.min.y=o.y,t.max.y=o.y+l}}()},function(a,h){var r={};a.exports=r,function(){r.create=function(t,o){return{x:t||0,y:o||0}},r.clone=function(t){return{x:t.x,y:t.y}},r.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},r.rotate=function(t,o,s){var l=Math.cos(o),u=Math.sin(o);s||(s={});var f=t.x*l-t.y*u;return s.y=t.x*u+t.y*l,s.x=f,s},r.rotateAbout=function(t,o,s,l){var u=Math.cos(o),f=Math.sin(o);l||(l={});var p=s.x+((t.x-s.x)*u-(t.y-s.y)*f);return l.y=s.y+((t.x-s.x)*f+(t.y-s.y)*u),l.x=p,l},r.normalise=function(t){var o=r.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},r.dot=function(t,o){return t.x*o.x+t.y*o.y},r.cross=function(t,o){return t.x*o.y-t.y*o.x},r.cross3=function(t,o,s){return(o.x-t.x)*(s.y-t.y)-(o.y-t.y)*(s.x-t.x)},r.add=function(t,o,s){return s||(s={}),s.x=t.x+o.x,s.y=t.y+o.y,s},r.sub=function(t,o,s){return s||(s={}),s.x=t.x-o.x,s.y=t.y-o.y,s},r.mult=function(t,o){return{x:t.x*o,y:t.y*o}},r.div=function(t,o){return{x:t.x/o,y:t.y/o}},r.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},r.neg=function(t){return{x:-t.x,y:-t.y}},r.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]}()},function(a,h,r){var t={};a.exports=t;var o=r(2),s=r(0);(function(){t.create=function(l,u){for(var f=[],p=0;p<l.length;p++){var c=l[p],i={x:c.x,y:c.y,index:p,body:u,isInternal:!1};f.push(i)}return f},t.fromPath=function(l,u){var f=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,p=[];return l.replace(f,function(c,i,v){p.push({x:parseFloat(i),y:parseFloat(v)})}),t.create(p,u)},t.centre=function(l){for(var u=t.area(l,!0),f={x:0,y:0},p,c,i,v=0;v<l.length;v++)i=(v+1)%l.length,p=o.cross(l[v],l[i]),c=o.mult(o.add(l[v],l[i]),p),f=o.add(f,c);return o.div(f,6*u)},t.mean=function(l){for(var u={x:0,y:0},f=0;f<l.length;f++)u.x+=l[f].x,u.y+=l[f].y;return o.div(u,l.length)},t.area=function(l,u){for(var f=0,p=l.length-1,c=0;c<l.length;c++)f+=(l[p].x-l[c].x)*(l[p].y+l[c].y),p=c;return u?f/2:Math.abs(f)/2},t.inertia=function(l,u){for(var f=0,p=0,c=l,i,v,g=0;g<c.length;g++)v=(g+1)%c.length,i=Math.abs(o.cross(c[v],c[g])),f+=i*(o.dot(c[v],c[v])+o.dot(c[v],c[g])+o.dot(c[g],c[g])),p+=i;return u/6*(f/p)},t.translate=function(l,u,f){f=typeof f<"u"?f:1;var p=l.length,c=u.x*f,i=u.y*f,v;for(v=0;v<p;v++)l[v].x+=c,l[v].y+=i;return l},t.rotate=function(l,u,f){if(u!==0){var p=Math.cos(u),c=Math.sin(u),i=f.x,v=f.y,g=l.length,d,y,P,T;for(T=0;T<g;T++)d=l[T],y=d.x-i,P=d.y-v,d.x=i+(y*p-P*c),d.y=v+(y*c+P*p);return l}},t.contains=function(l,u){for(var f=u.x,p=u.y,c=l.length,i=l[c-1],v,g=0;g<c;g++){if(v=l[g],(f-i.x)*(v.y-i.y)+(p-i.y)*(i.x-v.x)>0)return!1;i=v}return!0},t.scale=function(l,u,f,p){if(u===1&&f===1)return l;p=p||t.centre(l);for(var c,i,v=0;v<l.length;v++)c=l[v],i=o.sub(c,p),l[v].x=p.x+i.x*u,l[v].y=p.y+i.y*f;return l},t.chamfer=function(l,u,f,p,c){typeof u=="number"?u=[u]:u=u||[8],f=typeof f<"u"?f:-1,p=p||2,c=c||14;for(var i=[],v=0;v<l.length;v++){var g=l[v-1>=0?v-1:l.length-1],d=l[v],y=l[(v+1)%l.length],P=u[v<u.length?v:u.length-1];if(P===0){i.push(d);continue}var T=o.normalise({x:d.y-g.y,y:g.x-d.x}),E=o.normalise({x:y.y-d.y,y:d.x-y.x}),m=Math.sqrt(2*Math.pow(P,2)),x=o.mult(s.clone(T),P),M=o.normalise(o.mult(o.add(T,E),.5)),w=o.sub(d,o.mult(M,m)),C=f;f===-1&&(C=Math.pow(P,.32)*1.75),C=s.clamp(C,p,c),C%2===1&&(C+=1);for(var S=Math.acos(o.dot(T,E)),A=S/C,I=0;I<C;I++)i.push(o.add(o.rotate(x,A*I),w))}return i},t.clockwiseSort=function(l){var u=t.mean(l);return l.sort(function(f,p){return o.angle(u,f)-o.angle(u,p)}),l},t.isConvex=function(l){var u=0,f=l.length,p,c,i,v;if(f<3)return null;for(p=0;p<f;p++)if(c=(p+1)%f,i=(p+2)%f,v=(l[c].x-l[p].x)*(l[i].y-l[c].y),v-=(l[c].y-l[p].y)*(l[i].x-l[c].x),v<0?u|=1:v>0&&(u|=2),u===3)return!1;return u!==0?!0:null},t.hull=function(l){var u=[],f=[],p,c;for(l=l.slice(0),l.sort(function(i,v){var g=i.x-v.x;return g!==0?g:i.y-v.y}),c=0;c<l.length;c+=1){for(p=l[c];f.length>=2&&o.cross3(f[f.length-2],f[f.length-1],p)<=0;)f.pop();f.push(p)}for(c=l.length-1;c>=0;c-=1){for(p=l[c];u.length>=2&&o.cross3(u[u.length-2],u[u.length-1],p)<=0;)u.pop();u.push(p)}return u.pop(),f.pop(),u.concat(f)}})()},function(a,h,r){var t={};a.exports=t;var o=r(3),s=r(2),l=r(7),u=r(0),f=r(1),p=r(11);(function(){t._timeCorrection=!0,t._inertiaScale=4,t._nextCollidingGroupId=1,t._nextNonCollidingGroupId=-1,t._nextCategory=1,t._baseDelta=1e3/60,t.create=function(i){var v={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},g=u.extend(v,i);return c(g,i),g},t.nextGroup=function(i){return i?t._nextNonCollidingGroupId--:t._nextCollidingGroupId++},t.nextCategory=function(){return t._nextCategory=t._nextCategory<<1,t._nextCategory};var c=function(i,v){v=v||{},t.set(i,{bounds:i.bounds||f.create(i.vertices),positionPrev:i.positionPrev||s.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),o.rotate(i.vertices,i.angle,i.position),p.rotate(i.axes,i.angle),f.update(i.bounds,i.vertices,i.velocity),t.set(i,{axes:v.axes||i.axes,area:v.area||i.area,mass:v.mass||i.mass,inertia:v.inertia||i.inertia});var g=i.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),d=i.isStatic?"#555":"#ccc",y=i.isStatic&&i.render.fillStyle===null?1:0;i.render.fillStyle=i.render.fillStyle||g,i.render.strokeStyle=i.render.strokeStyle||d,i.render.lineWidth=i.render.lineWidth||y,i.render.sprite.xOffset+=-(i.bounds.min.x-i.position.x)/(i.bounds.max.x-i.bounds.min.x),i.render.sprite.yOffset+=-(i.bounds.min.y-i.position.y)/(i.bounds.max.y-i.bounds.min.y)};t.set=function(i,v,g){var d;typeof v=="string"&&(d=v,v={},v[d]=g);for(d in v)if(Object.prototype.hasOwnProperty.call(v,d))switch(g=v[d],d){case"isStatic":t.setStatic(i,g);break;case"isSleeping":l.set(i,g);break;case"mass":t.setMass(i,g);break;case"density":t.setDensity(i,g);break;case"inertia":t.setInertia(i,g);break;case"vertices":t.setVertices(i,g);break;case"position":t.setPosition(i,g);break;case"angle":t.setAngle(i,g);break;case"velocity":t.setVelocity(i,g);break;case"angularVelocity":t.setAngularVelocity(i,g);break;case"speed":t.setSpeed(i,g);break;case"angularSpeed":t.setAngularSpeed(i,g);break;case"parts":t.setParts(i,g);break;case"centre":t.setCentre(i,g);break;default:i[d]=g}},t.setStatic=function(i,v){for(var g=0;g<i.parts.length;g++){var d=i.parts[g];v?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=v}},t.setMass=function(i,v){var g=i.inertia/(i.mass/6);i.inertia=g*(v/6),i.inverseInertia=1/i.inertia,i.mass=v,i.inverseMass=1/i.mass,i.density=i.mass/i.area},t.setDensity=function(i,v){t.setMass(i,v*i.area),i.density=v},t.setInertia=function(i,v){i.inertia=v,i.inverseInertia=1/i.inertia},t.setVertices=function(i,v){v[0].body===i?i.vertices=v:i.vertices=o.create(v,i),i.axes=p.fromVertices(i.vertices),i.area=o.area(i.vertices),t.setMass(i,i.density*i.area);var g=o.centre(i.vertices);o.translate(i.vertices,g,-1),t.setInertia(i,t._inertiaScale*o.inertia(i.vertices,i.mass)),o.translate(i.vertices,i.position),f.update(i.bounds,i.vertices,i.velocity)},t.setParts=function(i,v,g){var d;for(v=v.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<v.length;d++){var y=v[d];y!==i&&(y.parent=i,i.parts.push(y))}if(i.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var P=[];for(d=0;d<v.length;d++)P=P.concat(v[d].vertices);o.clockwiseSort(P);var T=o.hull(P),E=o.centre(T);t.setVertices(i,T),o.translate(i.vertices,E)}var m=t._totalProperties(i);i.area=m.area,i.parent=i,i.position.x=m.centre.x,i.position.y=m.centre.y,i.positionPrev.x=m.centre.x,i.positionPrev.y=m.centre.y,t.setMass(i,m.mass),t.setInertia(i,m.inertia),t.setPosition(i,m.centre)}},t.setCentre=function(i,v,g){g?(i.positionPrev.x+=v.x,i.positionPrev.y+=v.y,i.position.x+=v.x,i.position.y+=v.y):(i.positionPrev.x=v.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=v.y-(i.position.y-i.positionPrev.y),i.position.x=v.x,i.position.y=v.y)},t.setPosition=function(i,v,g){var d=s.sub(v,i.position);g?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=s.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var y=0;y<i.parts.length;y++){var P=i.parts[y];P.position.x+=d.x,P.position.y+=d.y,o.translate(P.vertices,d),f.update(P.bounds,P.vertices,i.velocity)}},t.setAngle=function(i,v,g){var d=v-i.angle;g?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var y=0;y<i.parts.length;y++){var P=i.parts[y];P.angle+=d,o.rotate(P.vertices,d,i.position),p.rotate(P.axes,d),f.update(P.bounds,P.vertices,i.velocity),y>0&&s.rotateAbout(P.position,d,i.position,P.position)}},t.setVelocity=function(i,v){var g=i.deltaTime/t._baseDelta;i.positionPrev.x=i.position.x-v.x*g,i.positionPrev.y=i.position.y-v.y*g,i.velocity.x=(i.position.x-i.positionPrev.x)/g,i.velocity.y=(i.position.y-i.positionPrev.y)/g,i.speed=s.magnitude(i.velocity)},t.getVelocity=function(i){var v=t._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*v,y:(i.position.y-i.positionPrev.y)*v}},t.getSpeed=function(i){return s.magnitude(t.getVelocity(i))},t.setSpeed=function(i,v){t.setVelocity(i,s.mult(s.normalise(t.getVelocity(i)),v))},t.setAngularVelocity=function(i,v){var g=i.deltaTime/t._baseDelta;i.anglePrev=i.angle-v*g,i.angularVelocity=(i.angle-i.anglePrev)/g,i.angularSpeed=Math.abs(i.angularVelocity)},t.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*t._baseDelta/i.deltaTime},t.getAngularSpeed=function(i){return Math.abs(t.getAngularVelocity(i))},t.setAngularSpeed=function(i,v){t.setAngularVelocity(i,u.sign(t.getAngularVelocity(i))*v)},t.translate=function(i,v,g){t.setPosition(i,s.add(i.position,v),g)},t.rotate=function(i,v,g,d){if(!g)t.setAngle(i,i.angle+v,d);else{var y=Math.cos(v),P=Math.sin(v),T=i.position.x-g.x,E=i.position.y-g.y;t.setPosition(i,{x:g.x+(T*y-E*P),y:g.y+(T*P+E*y)},d),t.setAngle(i,i.angle+v,d)}},t.scale=function(i,v,g,d){var y=0,P=0;d=d||i.position;for(var T=0;T<i.parts.length;T++){var E=i.parts[T];o.scale(E.vertices,v,g,d),E.axes=p.fromVertices(E.vertices),E.area=o.area(E.vertices),t.setMass(E,i.density*E.area),o.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),t.setInertia(E,t._inertiaScale*o.inertia(E.vertices,E.mass)),o.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(y+=E.area,P+=E.inertia),E.position.x=d.x+(E.position.x-d.x)*v,E.position.y=d.y+(E.position.y-d.y)*g,f.update(E.bounds,E.vertices,i.velocity)}i.parts.length>1&&(i.area=y,i.isStatic||(t.setMass(i,i.density*y),t.setInertia(i,P))),i.circleRadius&&(v===g?i.circleRadius*=v:i.circleRadius=null)},t.update=function(i,v){v=(typeof v<"u"?v:1e3/60)*i.timeScale;var g=v*v,d=t._timeCorrection?v/(i.deltaTime||v):1,y=1-i.frictionAir*(v/u._baseDelta),P=(i.position.x-i.positionPrev.x)*d,T=(i.position.y-i.positionPrev.y)*d;i.velocity.x=P*y+i.force.x/i.mass*g,i.velocity.y=T*y+i.force.y/i.mass*g,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=v,i.angularVelocity=(i.angle-i.anglePrev)*y*d+i.torque/i.inertia*g,i.anglePrev=i.angle,i.angle+=i.angularVelocity;for(var E=0;E<i.parts.length;E++){var m=i.parts[E];o.translate(m.vertices,i.velocity),E>0&&(m.position.x+=i.velocity.x,m.position.y+=i.velocity.y),i.angularVelocity!==0&&(o.rotate(m.vertices,i.angularVelocity,i.position),p.rotate(m.axes,i.angularVelocity),E>0&&s.rotateAbout(m.position,i.angularVelocity,i.position,m.position)),f.update(m.bounds,m.vertices,i.velocity)}},t.updateVelocities=function(i){var v=t._baseDelta/i.deltaTime,g=i.velocity;g.x=(i.position.x-i.positionPrev.x)*v,g.y=(i.position.y-i.positionPrev.y)*v,i.speed=Math.sqrt(g.x*g.x+g.y*g.y),i.angularVelocity=(i.angle-i.anglePrev)*v,i.angularSpeed=Math.abs(i.angularVelocity)},t.applyForce=function(i,v,g){var d={x:v.x-i.position.x,y:v.y-i.position.y};i.force.x+=g.x,i.force.y+=g.y,i.torque+=d.x*g.y-d.y*g.x},t._totalProperties=function(i){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=i.parts.length===1?0:1;g<i.parts.length;g++){var d=i.parts[g],y=d.mass!==1/0?d.mass:1;v.mass+=y,v.area+=d.area,v.inertia+=d.inertia,v.centre=s.add(v.centre,s.mult(d.position,y))}return v.centre=s.div(v.centre,v.mass),v}})()},function(a,h,r){var t={};a.exports=t;var o=r(0);(function(){t.on=function(s,l,u){for(var f=l.split(" "),p,c=0;c<f.length;c++)p=f[c],s.events=s.events||{},s.events[p]=s.events[p]||[],s.events[p].push(u);return u},t.off=function(s,l,u){if(!l){s.events={};return}typeof l=="function"&&(u=l,l=o.keys(s.events).join(" "));for(var f=l.split(" "),p=0;p<f.length;p++){var c=s.events[f[p]],i=[];if(u&&c)for(var v=0;v<c.length;v++)c[v]!==u&&i.push(c[v]);s.events[f[p]]=i}},t.trigger=function(s,l,u){var f,p,c,i,v=s.events;if(v&&o.keys(v).length>0){u||(u={}),f=l.split(" ");for(var g=0;g<f.length;g++)if(p=f[g],c=v[p],c){i=o.clone(u,!1),i.name=p,i.source=s;for(var d=0;d<c.length;d++)c[d].apply(s,[i])}}}})()},function(a,h,r){var t={};a.exports=t;var o=r(5),s=r(0),l=r(1),u=r(4);(function(){t.create=function(f){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},f)},t.setModified=function(f,p,c,i){if(f.isModified=p,p&&f.cache&&(f.cache.allBodies=null,f.cache.allConstraints=null,f.cache.allComposites=null),c&&f.parent&&t.setModified(f.parent,p,c,i),i)for(var v=0;v<f.composites.length;v++){var g=f.composites[v];t.setModified(g,p,c,i)}},t.add=function(f,p){var c=[].concat(p);o.trigger(f,"beforeAdd",{object:p});for(var i=0;i<c.length;i++){var v=c[i];switch(v.type){case"body":if(v.parent!==v){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}t.addBody(f,v);break;case"constraint":t.addConstraint(f,v);break;case"composite":t.addComposite(f,v);break;case"mouseConstraint":t.addConstraint(f,v.constraint);break}}return o.trigger(f,"afterAdd",{object:p}),f},t.remove=function(f,p,c){var i=[].concat(p);o.trigger(f,"beforeRemove",{object:p});for(var v=0;v<i.length;v++){var g=i[v];switch(g.type){case"body":t.removeBody(f,g,c);break;case"constraint":t.removeConstraint(f,g,c);break;case"composite":t.removeComposite(f,g,c);break;case"mouseConstraint":t.removeConstraint(f,g.constraint);break}}return o.trigger(f,"afterRemove",{object:p}),f},t.addComposite=function(f,p){return f.composites.push(p),p.parent=f,t.setModified(f,!0,!0,!1),f},t.removeComposite=function(f,p,c){var i=s.indexOf(f.composites,p);if(i!==-1){var v=t.allBodies(p);t.removeCompositeAt(f,i);for(var g=0;g<v.length;g++)v[g].sleepCounter=0}if(c)for(var g=0;g<f.composites.length;g++)t.removeComposite(f.composites[g],p,!0);return f},t.removeCompositeAt=function(f,p){return f.composites.splice(p,1),t.setModified(f,!0,!0,!1),f},t.addBody=function(f,p){return f.bodies.push(p),t.setModified(f,!0,!0,!1),f},t.removeBody=function(f,p,c){var i=s.indexOf(f.bodies,p);if(i!==-1&&(t.removeBodyAt(f,i),p.sleepCounter=0),c)for(var v=0;v<f.composites.length;v++)t.removeBody(f.composites[v],p,!0);return f},t.removeBodyAt=function(f,p){return f.bodies.splice(p,1),t.setModified(f,!0,!0,!1),f},t.addConstraint=function(f,p){return f.constraints.push(p),t.setModified(f,!0,!0,!1),f},t.removeConstraint=function(f,p,c){var i=s.indexOf(f.constraints,p);if(i!==-1&&t.removeConstraintAt(f,i),c)for(var v=0;v<f.composites.length;v++)t.removeConstraint(f.composites[v],p,!0);return f},t.removeConstraintAt=function(f,p){return f.constraints.splice(p,1),t.setModified(f,!0,!0,!1),f},t.clear=function(f,p,c){if(c)for(var i=0;i<f.composites.length;i++)t.clear(f.composites[i],p,!0);return p?f.bodies=f.bodies.filter(function(v){return v.isStatic}):f.bodies.length=0,f.constraints.length=0,f.composites.length=0,t.setModified(f,!0,!0,!1),f},t.allBodies=function(f){if(f.cache&&f.cache.allBodies)return f.cache.allBodies;for(var p=[].concat(f.bodies),c=0;c<f.composites.length;c++)p=p.concat(t.allBodies(f.composites[c]));return f.cache&&(f.cache.allBodies=p),p},t.allConstraints=function(f){if(f.cache&&f.cache.allConstraints)return f.cache.allConstraints;for(var p=[].concat(f.constraints),c=0;c<f.composites.length;c++)p=p.concat(t.allConstraints(f.composites[c]));return f.cache&&(f.cache.allConstraints=p),p},t.allComposites=function(f){if(f.cache&&f.cache.allComposites)return f.cache.allComposites;for(var p=[].concat(f.composites),c=0;c<f.composites.length;c++)p=p.concat(t.allComposites(f.composites[c]));return f.cache&&(f.cache.allComposites=p),p},t.get=function(f,p,c){var i,v;switch(c){case"body":i=t.allBodies(f);break;case"constraint":i=t.allConstraints(f);break;case"composite":i=t.allComposites(f).concat(f);break}return i?(v=i.filter(function(g){return g.id.toString()===p.toString()}),v.length===0?null:v[0]):null},t.move=function(f,p,c){return t.remove(f,p),t.add(c,p),f},t.rebase=function(f){for(var p=t.allBodies(f).concat(t.allConstraints(f)).concat(t.allComposites(f)),c=0;c<p.length;c++)p[c].id=s.nextId();return f},t.translate=function(f,p,c){for(var i=c?t.allBodies(f):f.bodies,v=0;v<i.length;v++)u.translate(i[v],p);return f},t.rotate=function(f,p,c,i){for(var v=Math.cos(p),g=Math.sin(p),d=i?t.allBodies(f):f.bodies,y=0;y<d.length;y++){var P=d[y],T=P.position.x-c.x,E=P.position.y-c.y;u.setPosition(P,{x:c.x+(T*v-E*g),y:c.y+(T*g+E*v)}),u.rotate(P,p)}return f},t.scale=function(f,p,c,i,v){for(var g=v?t.allBodies(f):f.bodies,d=0;d<g.length;d++){var y=g[d],P=y.position.x-i.x,T=y.position.y-i.y;u.setPosition(y,{x:i.x+P*p,y:i.y+T*c}),u.scale(y,p,c)}return f},t.bounds=function(f){for(var p=t.allBodies(f),c=[],i=0;i<p.length;i+=1){var v=p[i];c.push(v.bounds.min,v.bounds.max)}return l.create(c)}})()},function(a,h,r){var t={};a.exports=t;var o=r(4),s=r(5),l=r(0);(function(){t._motionWakeThreshold=.18,t._motionSleepThreshold=.08,t._minBias=.9,t.update=function(u,f){for(var p=f/l._baseDelta,c=t._motionSleepThreshold,i=0;i<u.length;i++){var v=u[i],g=o.getSpeed(v),d=o.getAngularSpeed(v),y=g*g+d*d;if(v.force.x!==0||v.force.y!==0){t.set(v,!1);continue}var P=Math.min(v.motion,y),T=Math.max(v.motion,y);v.motion=t._minBias*P+(1-t._minBias)*T,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/p&&t.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},t.afterCollisions=function(u){for(var f=t._motionSleepThreshold,p=0;p<u.length;p++){var c=u[p];if(c.isActive){var i=c.collision,v=i.bodyA.parent,g=i.bodyB.parent;if(!(v.isSleeping&&g.isSleeping||v.isStatic||g.isStatic)&&(v.isSleeping||g.isSleeping)){var d=v.isSleeping&&!v.isStatic?v:g,y=d===v?g:v;!d.isStatic&&y.motion>f&&t.set(d,!1)}}}},t.set=function(u,f){var p=u.isSleeping;f?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,p||s.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,p&&s.trigger(u,"sleepEnd"))}})()},function(a,h,r){var t={};a.exports=t;var o=r(3),s=r(9);(function(){var l=[],u={overlap:0,axis:null},f={overlap:0,axis:null};t.create=function(p,c){return{pair:null,collided:!1,bodyA:p,bodyB:c,parentA:p.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},t.collides=function(p,c,i){if(t._overlapAxes(u,p.vertices,c.vertices,p.axes),u.overlap<=0||(t._overlapAxes(f,c.vertices,p.vertices,c.axes),f.overlap<=0))return null;var v=i&&i.table[s.id(p,c)],g;v?g=v.collision:(g=t.create(p,c),g.collided=!0,g.bodyA=p.id<c.id?p:c,g.bodyB=p.id<c.id?c:p,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),p=g.bodyA,c=g.bodyB;var d;u.overlap<f.overlap?d=u:d=f;var y=g.normal,P=g.tangent,T=g.penetration,E=g.supports,m=d.overlap,x=d.axis,M=x.x,w=x.y,C=c.position.x-p.position.x,S=c.position.y-p.position.y;M*C+w*S>=0&&(M=-M,w=-w),y.x=M,y.y=w,P.x=-w,P.y=M,T.x=M*m,T.y=w*m,g.depth=m;var A=t._findSupports(p,c,y,1),I=0;if(o.contains(p.vertices,A[0])&&(E[I++]=A[0]),o.contains(p.vertices,A[1])&&(E[I++]=A[1]),I<2){var k=t._findSupports(c,p,y,-1);o.contains(c.vertices,k[0])&&(E[I++]=k[0]),I<2&&o.contains(c.vertices,k[1])&&(E[I++]=k[1])}return I===0&&(E[I++]=A[0]),g.supportCount=I,g},t._overlapAxes=function(p,c,i,v){var g=c.length,d=i.length,y=c[0].x,P=c[0].y,T=i[0].x,E=i[0].y,m=v.length,x=Number.MAX_VALUE,M=0,w,C,S,A,I,k;for(I=0;I<m;I++){var B=v[I],R=B.x,N=B.y,_=y*R+P*N,D=T*R+E*N,F=_,b=D;for(k=1;k<g;k+=1)A=c[k].x*R+c[k].y*N,A>F?F=A:A<_&&(_=A);for(k=1;k<d;k+=1)A=i[k].x*R+i[k].y*N,A>b?b=A:A<D&&(D=A);if(C=F-D,S=b-_,w=C<S?C:S,w<x&&(x=w,M=I,w<=0))break}p.axis=v[M],p.overlap=x},t._findSupports=function(p,c,i,v){var g=c.vertices,d=g.length,y=p.position.x,P=p.position.y,T=i.x*v,E=i.y*v,m=g[0],x=m,M=T*(y-x.x)+E*(P-x.y),w,C,S;for(S=1;S<d;S+=1)x=g[S],C=T*(y-x.x)+E*(P-x.y),C<M&&(M=C,m=x);return w=g[(d+m.index-1)%d],M=T*(y-w.x)+E*(P-w.y),x=g[(m.index+1)%d],T*(y-x.x)+E*(P-x.y)<M?(l[0]=m,l[1]=x,l):(l[0]=m,l[1]=w,l)}})()},function(a,h,r){var t={};a.exports=t;var o=r(16);(function(){t.create=function(s,l){var u=s.bodyA,f=s.bodyB,p={id:t.id(u,f),bodyA:u,bodyB:f,collision:s,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||f.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(p,s,l),p},t.update=function(s,l,u){var f=l.supports,p=l.supportCount,c=s.contacts,i=l.parentA,v=l.parentB;s.isActive=!0,s.timeUpdated=u,s.collision=l,s.separation=l.depth,s.inverseMass=i.inverseMass+v.inverseMass,s.friction=i.friction<v.friction?i.friction:v.friction,s.frictionStatic=i.frictionStatic>v.frictionStatic?i.frictionStatic:v.frictionStatic,s.restitution=i.restitution>v.restitution?i.restitution:v.restitution,s.slop=i.slop>v.slop?i.slop:v.slop,s.contactCount=p,l.pair=s;var g=f[0],d=c[0],y=f[1],P=c[1];(P.vertex===g||d.vertex===y)&&(c[1]=d,c[0]=d=P,P=c[1]),d.vertex=g,P.vertex=y},t.setActive=function(s,l,u){l?(s.isActive=!0,s.timeUpdated=u):(s.isActive=!1,s.contactCount=0)},t.id=function(s,l){return s.id<l.id?s.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+s.id.toString(36)}})()},function(a,h,r){var t={};a.exports=t;var o=r(3),s=r(2),l=r(7),u=r(1),f=r(11),p=r(0);(function(){t._warming=.4,t._torqueDampen=1,t._minLength=1e-6,t.create=function(c){var i=c;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var v=i.bodyA?s.add(i.bodyA.position,i.pointA):i.pointA,g=i.bodyB?s.add(i.bodyB.position,i.pointB):i.pointB,d=s.magnitude(s.sub(v,g));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||p.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var y={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return i.length===0&&i.stiffness>.1?(y.type="pin",y.anchors=!1):i.stiffness<.9&&(y.type="spring"),i.render=p.extend(y,i.render),i},t.preSolveAll=function(c){for(var i=0;i<c.length;i+=1){var v=c[i],g=v.constraintImpulse;v.isStatic||g.x===0&&g.y===0&&g.angle===0||(v.position.x+=g.x,v.position.y+=g.y,v.angle+=g.angle)}},t.solveAll=function(c,i){for(var v=p.clamp(i/p._baseDelta,0,1),g=0;g<c.length;g+=1){var d=c[g],y=!d.bodyA||d.bodyA&&d.bodyA.isStatic,P=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(y||P)&&t.solve(c[g],v)}for(g=0;g<c.length;g+=1)d=c[g],y=!d.bodyA||d.bodyA&&d.bodyA.isStatic,P=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!y&&!P&&t.solve(c[g],v)},t.solve=function(c,i){var v=c.bodyA,g=c.bodyB,d=c.pointA,y=c.pointB;if(!(!v&&!g)){v&&!v.isStatic&&(s.rotate(d,v.angle-c.angleA,d),c.angleA=v.angle),g&&!g.isStatic&&(s.rotate(y,g.angle-c.angleB,y),c.angleB=g.angle);var P=d,T=y;if(v&&(P=s.add(v.position,d)),g&&(T=s.add(g.position,y)),!(!P||!T)){var E=s.sub(P,T),m=s.magnitude(E);m<t._minLength&&(m=t._minLength);var x=(m-c.length)/m,M=c.stiffness>=1||c.length===0,w=M?c.stiffness*i:c.stiffness*i*i,C=c.damping*i,S=s.mult(E,x*w),A=(v?v.inverseMass:0)+(g?g.inverseMass:0),I=(v?v.inverseInertia:0)+(g?g.inverseInertia:0),k=A+I,B,R,N,_,D;if(C>0){var F=s.create();N=s.div(E,m),D=s.sub(g&&s.sub(g.position,g.positionPrev)||F,v&&s.sub(v.position,v.positionPrev)||F),_=s.dot(N,D)}v&&!v.isStatic&&(R=v.inverseMass/A,v.constraintImpulse.x-=S.x*R,v.constraintImpulse.y-=S.y*R,v.position.x-=S.x*R,v.position.y-=S.y*R,C>0&&(v.positionPrev.x-=C*N.x*_*R,v.positionPrev.y-=C*N.y*_*R),B=s.cross(d,S)/k*t._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=B,v.angle-=B),g&&!g.isStatic&&(R=g.inverseMass/A,g.constraintImpulse.x+=S.x*R,g.constraintImpulse.y+=S.y*R,g.position.x+=S.x*R,g.position.y+=S.y*R,C>0&&(g.positionPrev.x+=C*N.x*_*R,g.positionPrev.y+=C*N.y*_*R),B=s.cross(y,S)/k*t._torqueDampen*g.inverseInertia*(1-c.angularStiffness),g.constraintImpulse.angle+=B,g.angle+=B)}}},t.postSolveAll=function(c){for(var i=0;i<c.length;i++){var v=c[i],g=v.constraintImpulse;if(!(v.isStatic||g.x===0&&g.y===0&&g.angle===0)){l.set(v,!1);for(var d=0;d<v.parts.length;d++){var y=v.parts[d];o.translate(y.vertices,g),d>0&&(y.position.x+=g.x,y.position.y+=g.y),g.angle!==0&&(o.rotate(y.vertices,g.angle,v.position),f.rotate(y.axes,g.angle),d>0&&s.rotateAbout(y.position,g.angle,v.position,y.position)),u.update(y.bounds,y.vertices,v.velocity)}g.angle*=t._warming,g.x*=t._warming,g.y*=t._warming}}},t.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},t.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},t.currentLength=function(c){var i=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),g=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),d=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),y=i-g,P=v-d;return Math.sqrt(y*y+P*P)}})()},function(a,h,r){var t={};a.exports=t;var o=r(2),s=r(0);(function(){t.fromVertices=function(l){for(var u={},f=0;f<l.length;f++){var p=(f+1)%l.length,c=o.normalise({x:l[p].y-l[f].y,y:l[f].x-l[p].x}),i=c.y===0?1/0:c.x/c.y;i=i.toFixed(3).toString(),u[i]=c}return s.values(u)},t.rotate=function(l,u){if(u!==0)for(var f=Math.cos(u),p=Math.sin(u),c=0;c<l.length;c++){var i=l[c],v;v=i.x*f-i.y*p,i.y=i.x*p+i.y*f,i.x=v}}})()},function(a,h,r){var t={};a.exports=t;var o=r(3),s=r(0),l=r(4),u=r(1),f=r(2);(function(){t.rectangle=function(p,c,i,v,g){g=g||{};var d={label:"Rectangle Body",position:{x:p,y:c},vertices:o.fromPath("L 0 0 L "+i+" 0 L "+i+" "+v+" L 0 "+v)};if(g.chamfer){var y=g.chamfer;d.vertices=o.chamfer(d.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete g.chamfer}return l.create(s.extend({},d,g))},t.trapezoid=function(p,c,i,v,g,d){d=d||{},g>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var y=(1-g*2)*i,P=i*g,T=P+y,E=T+P,m;g<.5?m="L 0 0 L "+P+" "+-v+" L "+T+" "+-v+" L "+E+" 0":m="L 0 0 L "+T+" "+-v+" L "+E+" 0";var x={label:"Trapezoid Body",position:{x:p,y:c},vertices:o.fromPath(m)};if(d.chamfer){var M=d.chamfer;x.vertices=o.chamfer(x.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete d.chamfer}return l.create(s.extend({},x,d))},t.circle=function(p,c,i,v,g){v=v||{};var d={label:"Circle Body",circleRadius:i};g=g||25;var y=Math.ceil(Math.max(10,Math.min(g,i)));return y%2===1&&(y+=1),t.polygon(p,c,y,i,s.extend({},d,v))},t.polygon=function(p,c,i,v,g){if(g=g||{},i<3)return t.circle(p,c,v,g);for(var d=2*Math.PI/i,y="",P=d*.5,T=0;T<i;T+=1){var E=P+T*d,m=Math.cos(E)*v,x=Math.sin(E)*v;y+="L "+m.toFixed(3)+" "+x.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:p,y:c},vertices:o.fromPath(y)};if(g.chamfer){var w=g.chamfer;M.vertices=o.chamfer(M.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete g.chamfer}return l.create(s.extend({},M,g))},t.fromVertices=function(p,c,i,v,g,d,y,P){var T=s.getDecomp(),E,m,x,M,w,C,S,A,I,k,B;for(E=!!(T&&T.quickDecomp),v=v||{},x=[],g=typeof g<"u"?g:!1,d=typeof d<"u"?d:.01,y=typeof y<"u"?y:10,P=typeof P<"u"?P:.01,s.isArray(i[0])||(i=[i]),k=0;k<i.length;k+=1)if(C=i[k],M=o.isConvex(C),w=!M,w&&!E&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!E)M?C=o.clockwiseSort(C):C=o.hull(C),x.push({position:{x:p,y:c},vertices:C});else{var R=C.map(function(L){return[L.x,L.y]});T.makeCCW(R),d!==!1&&T.removeCollinearPoints(R,d),P!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(R,P);var N=T.quickDecomp(R);for(S=0;S<N.length;S++){var _=N[S],D=_.map(function(L){return{x:L[0],y:L[1]}});y>0&&o.area(D)<y||x.push({position:o.centre(D),vertices:D})}}for(S=0;S<x.length;S++)x[S]=l.create(s.extend(x[S],v));if(g){var F=5;for(S=0;S<x.length;S++){var b=x[S];for(A=S+1;A<x.length;A++){var V=x[A];if(u.overlaps(b.bounds,V.bounds)){var $=b.vertices,U=V.vertices;for(I=0;I<b.vertices.length;I++)for(B=0;B<V.vertices.length;B++){var le=f.magnitudeSquared(f.sub($[(I+1)%$.length],U[B])),Y=f.magnitudeSquared(f.sub($[I],U[(B+1)%U.length]));le<F&&Y<F&&($[I].isInternal=!0,U[B].isInternal=!0)}}}}}return x.length>1?(m=l.create(s.extend({parts:x.slice(0)},v)),l.setPosition(m,{x:p,y:c}),m):x[0]}})()},function(a,h,r){var t={};a.exports=t;var o=r(0),s=r(8);(function(){t.create=function(l){var u={bodies:[],collisions:[],pairs:null};return o.extend(u,l)},t.setBodies=function(l,u){l.bodies=u.slice(0)},t.clear=function(l){l.bodies=[],l.collisions=[]},t.collisions=function(l){var u=l.pairs,f=l.bodies,p=f.length,c=t.canCollide,i=s.collides,v=l.collisions,g=0,d,y;for(f.sort(t._compareBoundsX),d=0;d<p;d++){var P=f[d],T=P.bounds,E=P.bounds.max.x,m=P.bounds.max.y,x=P.bounds.min.y,M=P.isStatic||P.isSleeping,w=P.parts.length,C=w===1;for(y=d+1;y<p;y++){var S=f[y],A=S.bounds;if(A.min.x>E)break;if(!(m<A.min.y||x>A.max.y)&&!(M&&(S.isStatic||S.isSleeping))&&c(P.collisionFilter,S.collisionFilter)){var I=S.parts.length;if(C&&I===1){var k=i(P,S,u);k&&(v[g++]=k)}else for(var B=w>1?1:0,R=I>1?1:0,N=B;N<w;N++)for(var _=P.parts[N],T=_.bounds,D=R;D<I;D++){var F=S.parts[D],A=F.bounds;if(!(T.min.x>A.max.x||T.max.x<A.min.x||T.max.y<A.min.y||T.min.y>A.max.y)){var k=i(_,F,u);k&&(v[g++]=k)}}}}}return v.length!==g&&(v.length=g),v},t.canCollide=function(l,u){return l.group===u.group&&l.group!==0?l.group>0:(l.mask&u.category)!==0&&(u.mask&l.category)!==0},t._compareBoundsX=function(l,u){return l.bounds.min.x-u.bounds.min.x}})()},function(a,h,r){var t={};a.exports=t;var o=r(0);(function(){t.create=function(s){var l={};return s||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=s||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(u){var f=t._getRelativeMousePosition(u,l.element,l.pixelRatio),p=u.changedTouches;p&&(l.button=0,u.preventDefault()),l.absolute.x=f.x,l.absolute.y=f.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=u},l.mousedown=function(u){var f=t._getRelativeMousePosition(u,l.element,l.pixelRatio),p=u.changedTouches;p?(l.button=0,u.preventDefault()):l.button=u.button,l.absolute.x=f.x,l.absolute.y=f.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=u},l.mouseup=function(u){var f=t._getRelativeMousePosition(u,l.element,l.pixelRatio),p=u.changedTouches;p&&u.preventDefault(),l.button=-1,l.absolute.x=f.x,l.absolute.y=f.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=u},l.mousewheel=function(u){l.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),l.sourceEvents.mousewheel=u},t.setElement(l,l.element),l},t.setElement=function(s,l){s.element=l,l.addEventListener("mousemove",s.mousemove,{passive:!0}),l.addEventListener("mousedown",s.mousedown,{passive:!0}),l.addEventListener("mouseup",s.mouseup,{passive:!0}),l.addEventListener("wheel",s.mousewheel,{passive:!1}),l.addEventListener("touchmove",s.mousemove,{passive:!1}),l.addEventListener("touchstart",s.mousedown,{passive:!1}),l.addEventListener("touchend",s.mouseup,{passive:!1})},t.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},t.setOffset=function(s,l){s.offset.x=l.x,s.offset.y=l.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},t.setScale=function(s,l){s.scale.x=l.x,s.scale.y=l.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},t._getRelativeMousePosition=function(s,l,u){var f=l.getBoundingClientRect(),p=document.documentElement||document.body.parentNode||document.body,c=window.pageXOffset!==void 0?window.pageXOffset:p.scrollLeft,i=window.pageYOffset!==void 0?window.pageYOffset:p.scrollTop,v=s.changedTouches,g,d;return v?(g=v[0].pageX-f.left-c,d=v[0].pageY-f.top-i):(g=s.pageX-f.left-c,d=s.pageY-f.top-i),{x:g/(l.clientWidth/(l.width||l.clientWidth)*u),y:d/(l.clientHeight/(l.height||l.clientHeight)*u)}}})()},function(a,h,r){var t={};a.exports=t;var o=r(0);(function(){t._registry={},t.register=function(s){if(t.isPlugin(s)||o.warn("Plugin.register:",t.toString(s),"does not implement all required fields."),s.name in t._registry){var l=t._registry[s.name],u=t.versionParse(s.version).number,f=t.versionParse(l.version).number;u>f?(o.warn("Plugin.register:",t.toString(l),"was upgraded to",t.toString(s)),t._registry[s.name]=s):u<f?o.warn("Plugin.register:",t.toString(l),"can not be downgraded to",t.toString(s)):s!==l&&o.warn("Plugin.register:",t.toString(s),"is already registered to different plugin object")}else t._registry[s.name]=s;return s},t.resolve=function(s){return t._registry[t.dependencyParse(s).name]},t.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},t.isPlugin=function(s){return s&&s.name&&s.version&&s.install},t.isUsed=function(s,l){return s.used.indexOf(l)>-1},t.isFor=function(s,l){var u=s.for&&t.dependencyParse(s.for);return!s.for||l.name===u.name&&t.versionSatisfies(l.version,u.range)},t.use=function(s,l){if(s.uses=(s.uses||[]).concat(l||[]),s.uses.length===0){o.warn("Plugin.use:",t.toString(s),"does not specify any dependencies to install.");return}for(var u=t.dependencies(s),f=o.topologicalSort(u),p=[],c=0;c<f.length;c+=1)if(f[c]!==s.name){var i=t.resolve(f[c]);if(!i){p.push("❌ "+f[c]);continue}t.isUsed(s,i.name)||(t.isFor(i,s)||(o.warn("Plugin.use:",t.toString(i),"is for",i.for,"but installed on",t.toString(s)+"."),i._warned=!0),i.install?i.install(s):(o.warn("Plugin.use:",t.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(p.push("🔶 "+t.toString(i)),delete i._warned):p.push("✅ "+t.toString(i)),s.used.push(i.name))}p.length>0&&o.info(p.join("  "))},t.dependencies=function(s,l){var u=t.dependencyParse(s),f=u.name;if(l=l||{},!(f in l)){s=t.resolve(s)||s,l[f]=o.map(s.uses||[],function(c){t.isPlugin(c)&&t.register(c);var i=t.dependencyParse(c),v=t.resolve(c);return v&&!t.versionSatisfies(v.version,i.range)?(o.warn("Plugin.dependencies:",t.toString(v),"does not satisfy",t.toString(i),"used by",t.toString(u)+"."),v._warned=!0,s._warned=!0):v||(o.warn("Plugin.dependencies:",t.toString(c),"used by",t.toString(u),"could not be resolved."),s._warned=!0),i.name});for(var p=0;p<l[f].length;p+=1)t.dependencies(l[f][p],l);return l}},t.dependencyParse=function(s){if(o.isString(s)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(s)||o.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},t.versionParse=function(s){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(s)||o.warn("Plugin.versionParse:",s,"is not a valid version or range.");var u=l.exec(s),f=Number(u[4]),p=Number(u[5]),c=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:s,operator:u[1]||u[2]||"",major:f,minor:p,patch:c,parts:[f,p,c],prerelease:u[7],number:f*1e8+p*1e4+c}},t.versionSatisfies=function(s,l){l=l||"*";var u=t.versionParse(l),f=t.versionParse(s);if(u.isRange){if(u.operator==="*"||s==="*")return!0;if(u.operator===">")return f.number>u.number;if(u.operator===">=")return f.number>=u.number;if(u.operator==="~")return f.major===u.major&&f.minor===u.minor&&f.patch>=u.patch;if(u.operator==="^")return u.major>0?f.major===u.major&&f.number>=u.number:u.minor>0?f.minor===u.minor&&f.patch>=u.patch:f.patch===u.patch}return s===l||s==="*"}})()},function(a,h){var r={};a.exports=r,function(){r.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},function(a,h,r){var t={};a.exports=t;var o=r(7),s=r(18),l=r(13),u=r(19),f=r(5),p=r(6),c=r(10),i=r(0),v=r(4);(function(){t._deltaMax=1e3/60,t.create=function(g){g=g||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=i.extend(d,g);return y.world=g.world||p.create({label:"World"}),y.pairs=g.pairs||u.create(),y.detector=g.detector||l.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},t.update=function(g,d){var y=i.now(),P=g.world,T=g.detector,E=g.pairs,m=g.timing,x=m.timestamp,M;d>t._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",t._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=m.timeScale,m.timestamp+=d,m.lastDelta=d;var w={timestamp:m.timestamp,delta:d};f.trigger(g,"beforeUpdate",w);var C=p.allBodies(P),S=p.allConstraints(P);for(P.isModified&&(l.setBodies(T,C),p.setModified(P,!1,!1,!0)),g.enableSleeping&&o.update(C,d),t._bodiesApplyGravity(C,g.gravity),d>0&&t._bodiesUpdate(C,d),f.trigger(g,"beforeSolve",w),c.preSolveAll(C),M=0;M<g.constraintIterations;M++)c.solveAll(S,d);c.postSolveAll(C);var A=l.collisions(T);u.update(E,A,x),g.enableSleeping&&o.afterCollisions(E.list),E.collisionStart.length>0&&f.trigger(g,"collisionStart",{pairs:E.collisionStart,timestamp:m.timestamp,delta:d});var I=i.clamp(20/g.positionIterations,0,1);for(s.preSolvePosition(E.list),M=0;M<g.positionIterations;M++)s.solvePosition(E.list,d,I);for(s.postSolvePosition(C),c.preSolveAll(C),M=0;M<g.constraintIterations;M++)c.solveAll(S,d);for(c.postSolveAll(C),s.preSolveVelocity(E.list),M=0;M<g.velocityIterations;M++)s.solveVelocity(E.list,d);return t._bodiesUpdateVelocities(C),E.collisionActive.length>0&&f.trigger(g,"collisionActive",{pairs:E.collisionActive,timestamp:m.timestamp,delta:d}),E.collisionEnd.length>0&&f.trigger(g,"collisionEnd",{pairs:E.collisionEnd,timestamp:m.timestamp,delta:d}),t._bodiesClearForces(C),f.trigger(g,"afterUpdate",w),g.timing.lastElapsed=i.now()-y,g},t.merge=function(g,d){if(i.extend(g,d),d.world){g.world=d.world,t.clear(g);for(var y=p.allBodies(g.world),P=0;P<y.length;P++){var T=y[P];o.set(T,!1),T.id=i.nextId()}}},t.clear=function(g){u.clear(g.pairs),l.clear(g.detector)},t._bodiesClearForces=function(g){for(var d=g.length,y=0;y<d;y++){var P=g[y];P.force.x=0,P.force.y=0,P.torque=0}},t._bodiesApplyGravity=function(g,d){var y=typeof d.scale<"u"?d.scale:.001,P=g.length;if(!(d.x===0&&d.y===0||y===0))for(var T=0;T<P;T++){var E=g[T];E.isStatic||E.isSleeping||(E.force.y+=E.mass*d.y*y,E.force.x+=E.mass*d.x*y)}},t._bodiesUpdate=function(g,d){for(var y=g.length,P=0;P<y;P++){var T=g[P];T.isStatic||T.isSleeping||v.update(T,d)}},t._bodiesUpdateVelocities=function(g){for(var d=g.length,y=0;y<d;y++)v.updateVelocities(g[y])}})()},function(a,h,r){var t={};a.exports=t;var o=r(3),s=r(0),l=r(1);(function(){t._restingThresh=2,t._restingThreshTangent=Math.sqrt(6),t._positionDampen=.9,t._positionWarming=.8,t._frictionNormalMultiplier=5,t._frictionMaxStatic=Number.MAX_VALUE,t.preSolvePosition=function(u){var f,p,c,i=u.length;for(f=0;f<i;f++)p=u[f],p.isActive&&(c=p.contactCount,p.collision.parentA.totalContacts+=c,p.collision.parentB.totalContacts+=c)},t.solvePosition=function(u,f,p){var c,i,v,g,d,y,P,T,E=t._positionDampen*(p||1),m=s.clamp(f/s._baseDelta,0,1),x=u.length;for(c=0;c<x;c++)i=u[c],!(!i.isActive||i.isSensor)&&(v=i.collision,g=v.parentA,d=v.parentB,y=v.normal,i.separation=v.depth+y.x*(d.positionImpulse.x-g.positionImpulse.x)+y.y*(d.positionImpulse.y-g.positionImpulse.y));for(c=0;c<x;c++)i=u[c],!(!i.isActive||i.isSensor)&&(v=i.collision,g=v.parentA,d=v.parentB,y=v.normal,T=i.separation-i.slop*m,(g.isStatic||d.isStatic)&&(T*=2),g.isStatic||g.isSleeping||(P=E/g.totalContacts,g.positionImpulse.x+=y.x*T*P,g.positionImpulse.y+=y.y*T*P),d.isStatic||d.isSleeping||(P=E/d.totalContacts,d.positionImpulse.x-=y.x*T*P,d.positionImpulse.y-=y.y*T*P))},t.postSolvePosition=function(u){for(var f=t._positionWarming,p=u.length,c=o.translate,i=l.update,v=0;v<p;v++){var g=u[v],d=g.positionImpulse,y=d.x,P=d.y,T=g.velocity;if(g.totalContacts=0,y!==0||P!==0){for(var E=0;E<g.parts.length;E++){var m=g.parts[E];c(m.vertices,d),i(m.bounds,m.vertices,T),m.position.x+=y,m.position.y+=P}g.positionPrev.x+=y,g.positionPrev.y+=P,y*T.x+P*T.y<0?(d.x=0,d.y=0):(d.x*=f,d.y*=f)}}},t.preSolveVelocity=function(u){var f=u.length,p,c;for(p=0;p<f;p++){var i=u[p];if(!(!i.isActive||i.isSensor)){var v=i.contacts,g=i.contactCount,d=i.collision,y=d.parentA,P=d.parentB,T=d.normal,E=d.tangent;for(c=0;c<g;c++){var m=v[c],x=m.vertex,M=m.normalImpulse,w=m.tangentImpulse;if(M!==0||w!==0){var C=T.x*M+E.x*w,S=T.y*M+E.y*w;y.isStatic||y.isSleeping||(y.positionPrev.x+=C*y.inverseMass,y.positionPrev.y+=S*y.inverseMass,y.anglePrev+=y.inverseInertia*((x.x-y.position.x)*S-(x.y-y.position.y)*C)),P.isStatic||P.isSleeping||(P.positionPrev.x-=C*P.inverseMass,P.positionPrev.y-=S*P.inverseMass,P.anglePrev-=P.inverseInertia*((x.x-P.position.x)*S-(x.y-P.position.y)*C))}}}}},t.solveVelocity=function(u,f){var p=f/s._baseDelta,c=p*p,i=c*p,v=-t._restingThresh*p,g=t._restingThreshTangent,d=t._frictionNormalMultiplier*p,y=t._frictionMaxStatic,P=u.length,T,E,m,x;for(m=0;m<P;m++){var M=u[m];if(!(!M.isActive||M.isSensor)){var w=M.collision,C=w.parentA,S=w.parentB,A=w.normal.x,I=w.normal.y,k=w.tangent.x,B=w.tangent.y,R=M.inverseMass,N=M.friction*M.frictionStatic*d,_=M.contacts,D=M.contactCount,F=1/D,b=C.position.x-C.positionPrev.x,V=C.position.y-C.positionPrev.y,$=C.angle-C.anglePrev,U=S.position.x-S.positionPrev.x,le=S.position.y-S.positionPrev.y,Y=S.angle-S.anglePrev;for(x=0;x<D;x++){var L=_[x],K=L.vertex,H=K.x-C.position.x,Te=K.y-C.position.y,te=K.x-S.position.x,ne=K.y-S.position.y,W=b-Te*$,_i=V+H*$,Ni=U-ne*Y,Di=le+te*Y,jt=W-Ni,en=_i-Di,yt=A*jt+I*en,ae=k*jt+B*en,tn=M.separation+yt,wt=Math.min(tn,1);wt=tn<0?0:wt;var nn=wt*N;ae<-nn||ae>nn?(E=ae>0?ae:-ae,T=M.friction*(ae>0?1:-1)*i,T<-E?T=-E:T>E&&(T=E)):(T=ae,E=y);var rn=H*I-Te*A,an=te*I-ne*A,on=F/(R+C.inverseInertia*rn*rn+S.inverseInertia*an*an),We=(1+M.restitution)*yt*on;if(T*=on,yt<v)L.normalImpulse=0;else{var Fi=L.normalImpulse;L.normalImpulse+=We,L.normalImpulse>0&&(L.normalImpulse=0),We=L.normalImpulse-Fi}if(ae<-g||ae>g)L.tangentImpulse=0;else{var Li=L.tangentImpulse;L.tangentImpulse+=T,L.tangentImpulse<-E&&(L.tangentImpulse=-E),L.tangentImpulse>E&&(L.tangentImpulse=E),T=L.tangentImpulse-Li}var Ge=A*We+k*T,Xe=I*We+B*T;C.isStatic||C.isSleeping||(C.positionPrev.x+=Ge*C.inverseMass,C.positionPrev.y+=Xe*C.inverseMass,C.anglePrev+=(H*Xe-Te*Ge)*C.inverseInertia),S.isStatic||S.isSleeping||(S.positionPrev.x-=Ge*S.inverseMass,S.positionPrev.y-=Xe*S.inverseMass,S.anglePrev-=(te*Xe-ne*Ge)*S.inverseInertia)}}}}})()},function(a,h,r){var t={};a.exports=t;var o=r(9),s=r(0);(function(){t.create=function(l){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},t.update=function(l,u,f){var p=o.update,c=o.create,i=o.setActive,v=l.table,g=l.list,d=g.length,y=d,P=l.collisionStart,T=l.collisionEnd,E=l.collisionActive,m=u.length,x=0,M=0,w=0,C,S,A;for(A=0;A<m;A++)C=u[A],S=C.pair,S?(S.isActive&&(E[w++]=S),p(S,C,f)):(S=c(C,f),v[S.id]=S,P[x++]=S,g[y++]=S);for(y=0,d=g.length,A=0;A<d;A++)S=g[A],S.timeUpdated>=f?g[y++]=S:(i(S,!1,f),S.collision.bodyA.sleepCounter>0&&S.collision.bodyB.sleepCounter>0?g[y++]=S:(T[M++]=S,delete v[S.id]));g.length!==y&&(g.length=y),P.length!==x&&(P.length=x),T.length!==M&&(T.length=M),E.length!==w&&(E.length=w)},t.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(a,h,r){var t=a.exports=r(21);t.Axes=r(11),t.Bodies=r(12),t.Body=r(4),t.Bounds=r(1),t.Collision=r(8),t.Common=r(0),t.Composite=r(6),t.Composites=r(22),t.Constraint=r(10),t.Contact=r(16),t.Detector=r(13),t.Engine=r(17),t.Events=r(5),t.Grid=r(23),t.Mouse=r(14),t.MouseConstraint=r(24),t.Pair=r(9),t.Pairs=r(19),t.Plugin=r(15),t.Query=r(25),t.Render=r(26),t.Resolver=r(18),t.Runner=r(27),t.SAT=r(28),t.Sleeping=r(7),t.Svg=r(29),t.Vector=r(2),t.Vertices=r(3),t.World=r(30),t.Engine.run=t.Runner.run,t.Common.deprecated(t.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(a,h,r){var t={};a.exports=t;var o=r(15),s=r(0);(function(){t.name="matter-js",t.version="0.20.0",t.uses=[],t.used=[],t.use=function(){o.use(t,Array.prototype.slice.call(arguments))},t.before=function(l,u){return l=l.replace(/^Matter./,""),s.chainPathBefore(t,l,u)},t.after=function(l,u){return l=l.replace(/^Matter./,""),s.chainPathAfter(t,l,u)}})()},function(a,h,r){var t={};a.exports=t;var o=r(6),s=r(10),l=r(0),u=r(4),f=r(12),p=l.deprecated;(function(){t.stack=function(c,i,v,g,d,y,P){for(var T=o.create({label:"Stack"}),E=c,m=i,x,M=0,w=0;w<g;w++){for(var C=0,S=0;S<v;S++){var A=P(E,m,S,w,x,M);if(A){var I=A.bounds.max.y-A.bounds.min.y,k=A.bounds.max.x-A.bounds.min.x;I>C&&(C=I),u.translate(A,{x:k*.5,y:I*.5}),E=A.bounds.max.x+d,o.addBody(T,A),x=A,M+=1}else E+=d}m+=C+y,E=c}return T},t.chain=function(c,i,v,g,d,y){for(var P=c.bodies,T=1;T<P.length;T++){var E=P[T-1],m=P[T],x=E.bounds.max.y-E.bounds.min.y,M=E.bounds.max.x-E.bounds.min.x,w=m.bounds.max.y-m.bounds.min.y,C=m.bounds.max.x-m.bounds.min.x,S={bodyA:E,pointA:{x:M*i,y:x*v},bodyB:m,pointB:{x:C*g,y:w*d}},A=l.extend(S,y);o.addConstraint(c,s.create(A))}return c.label+=" Chain",c},t.mesh=function(c,i,v,g,d){var y=c.bodies,P,T,E,m,x;for(P=0;P<v;P++){for(T=1;T<i;T++)E=y[T-1+P*i],m=y[T+P*i],o.addConstraint(c,s.create(l.extend({bodyA:E,bodyB:m},d)));if(P>0)for(T=0;T<i;T++)E=y[T+(P-1)*i],m=y[T+P*i],o.addConstraint(c,s.create(l.extend({bodyA:E,bodyB:m},d))),g&&T>0&&(x=y[T-1+(P-1)*i],o.addConstraint(c,s.create(l.extend({bodyA:x,bodyB:m},d)))),g&&T<i-1&&(x=y[T+1+(P-1)*i],o.addConstraint(c,s.create(l.extend({bodyA:x,bodyB:m},d))))}return c.label+=" Mesh",c},t.pyramid=function(c,i,v,g,d,y,P){return t.stack(c,i,v,g,d,y,function(T,E,m,x,M,w){var C=Math.min(g,Math.ceil(v/2)),S=M?M.bounds.max.x-M.bounds.min.x:0;if(!(x>C)){x=C-x;var A=x,I=v-1-x;if(!(m<A||m>I)){w===1&&u.translate(M,{x:(m+(v%2===1?1:-1))*S,y:0});var k=M?m*S:0;return P(c+k+m*d,E,m,x,M,w)}}})},t.newtonsCradle=function(c,i,v,g,d){for(var y=o.create({label:"Newtons Cradle"}),P=0;P<v;P++){var T=1.9,E=f.circle(c+P*(g*T),i+d,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=s.create({pointA:{x:c+P*(g*T),y:i},bodyB:E});o.addBody(y,E),o.addConstraint(y,m)}return y},p(t,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),t.car=function(c,i,v,g,d){var y=u.nextGroup(!0),P=20,T=-v*.5+P,E=v*.5-P,m=0,x=o.create({label:"Car"}),M=f.rectangle(c,i,v,g,{collisionFilter:{group:y},chamfer:{radius:g*.5},density:2e-4}),w=f.circle(c+T,i+m,d,{collisionFilter:{group:y},friction:.8}),C=f.circle(c+E,i+m,d,{collisionFilter:{group:y},friction:.8}),S=s.create({bodyB:M,pointB:{x:T,y:m},bodyA:w,stiffness:1,length:0}),A=s.create({bodyB:M,pointB:{x:E,y:m},bodyA:C,stiffness:1,length:0});return o.addBody(x,M),o.addBody(x,w),o.addBody(x,C),o.addConstraint(x,S),o.addConstraint(x,A),x},p(t,"car","Composites.car ➤ moved to car example"),t.softBody=function(c,i,v,g,d,y,P,T,E,m){E=l.extend({inertia:1/0},E),m=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var x=t.stack(c,i,v,g,d,y,function(M,w){return f.circle(M,w,T,E)});return t.mesh(x,v,g,P,m),x.label="Soft Body",x},p(t,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(a,h,r){var t={};a.exports=t;var o=r(9),s=r(0),l=s.deprecated;(function(){t.create=function(u){var f={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(f,u)},t.update=function(u,f,p,c){var i,v,g,d=p.world,y=u.buckets,P,T,E=!1;for(i=0;i<f.length;i++){var m=f[i];if(!(m.isSleeping&&!c)&&!(d.bounds&&(m.bounds.max.x<d.bounds.min.x||m.bounds.min.x>d.bounds.max.x||m.bounds.max.y<d.bounds.min.y||m.bounds.min.y>d.bounds.max.y))){var x=t._getRegion(u,m);if(!m.region||x.id!==m.region.id||c){(!m.region||c)&&(m.region=x);var M=t._regionUnion(x,m.region);for(v=M.startCol;v<=M.endCol;v++)for(g=M.startRow;g<=M.endRow;g++){T=t._getBucketId(v,g),P=y[T];var w=v>=x.startCol&&v<=x.endCol&&g>=x.startRow&&g<=x.endRow,C=v>=m.region.startCol&&v<=m.region.endCol&&g>=m.region.startRow&&g<=m.region.endRow;!w&&C&&C&&P&&t._bucketRemoveBody(u,P,m),(m.region===x||w&&!C||c)&&(P||(P=t._createBucket(y,T)),t._bucketAddBody(u,P,m))}m.region=x,E=!0}}}E&&(u.pairsList=t._createActivePairsList(u))},l(t,"update","Grid.update ➤ replaced by Matter.Detector"),t.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},l(t,"clear","Grid.clear ➤ replaced by Matter.Detector"),t._regionUnion=function(u,f){var p=Math.min(u.startCol,f.startCol),c=Math.max(u.endCol,f.endCol),i=Math.min(u.startRow,f.startRow),v=Math.max(u.endRow,f.endRow);return t._createRegion(p,c,i,v)},t._getRegion=function(u,f){var p=f.bounds,c=Math.floor(p.min.x/u.bucketWidth),i=Math.floor(p.max.x/u.bucketWidth),v=Math.floor(p.min.y/u.bucketHeight),g=Math.floor(p.max.y/u.bucketHeight);return t._createRegion(c,i,v,g)},t._createRegion=function(u,f,p,c){return{id:u+","+f+","+p+","+c,startCol:u,endCol:f,startRow:p,endRow:c}},t._getBucketId=function(u,f){return"C"+u+"R"+f},t._createBucket=function(u,f){var p=u[f]=[];return p},t._bucketAddBody=function(u,f,p){var c=u.pairs,i=o.id,v=f.length,g;for(g=0;g<v;g++){var d=f[g];if(!(p.id===d.id||p.isStatic&&d.isStatic)){var y=i(p,d),P=c[y];P?P[2]+=1:c[y]=[p,d,1]}}f.push(p)},t._bucketRemoveBody=function(u,f,p){var c=u.pairs,i=o.id,v;f.splice(s.indexOf(f,p),1);var g=f.length;for(v=0;v<g;v++){var d=c[i(p,f[v])];d&&(d[2]-=1)}},t._createActivePairsList=function(u){var f,p=u.pairs,c=s.keys(p),i=c.length,v=[],g;for(g=0;g<i;g++)f=p[c[g]],f[2]>0?v.push(f):delete p[c[g]];return v}})()},function(a,h,r){var t={};a.exports=t;var o=r(3),s=r(7),l=r(14),u=r(5),f=r(13),p=r(10),c=r(6),i=r(0),v=r(1);(function(){t.create=function(g,d){var y=(g?g.mouse:null)||(d?d.mouse:null);y||(g&&g.render&&g.render.canvas?y=l.create(g.render.canvas):d&&d.element?y=l.create(d.element):(y=l.create(),i.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var P=p.create({label:"Mouse Constraint",pointA:y.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),T={type:"mouseConstraint",mouse:y,element:null,body:null,constraint:P,collisionFilter:{category:1,mask:4294967295,group:0}},E=i.extend(T,d);return u.on(g,"beforeUpdate",function(){var m=c.allBodies(g.world);t.update(E,m),t._triggerEvents(E)}),E},t.update=function(g,d){var y=g.mouse,P=g.constraint,T=g.body;if(y.button===0){if(P.bodyB)s.set(P.bodyB,!1),P.pointA=y.position;else for(var E=0;E<d.length;E++)if(T=d[E],v.contains(T.bounds,y.position)&&f.canCollide(T.collisionFilter,g.collisionFilter))for(var m=T.parts.length>1?1:0;m<T.parts.length;m++){var x=T.parts[m];if(o.contains(x.vertices,y.position)){P.pointA=y.position,P.bodyB=g.body=T,P.pointB={x:y.position.x-T.position.x,y:y.position.y-T.position.y},P.angleB=T.angle,s.set(T,!1),u.trigger(g,"startdrag",{mouse:y,body:T});break}}}else P.bodyB=g.body=null,P.pointB=null,T&&u.trigger(g,"enddrag",{mouse:y,body:T})},t._triggerEvents=function(g){var d=g.mouse,y=d.sourceEvents;y.mousemove&&u.trigger(g,"mousemove",{mouse:d}),y.mousedown&&u.trigger(g,"mousedown",{mouse:d}),y.mouseup&&u.trigger(g,"mouseup",{mouse:d}),l.clearSourceEvents(d)}})()},function(a,h,r){var t={};a.exports=t;var o=r(2),s=r(8),l=r(1),u=r(12),f=r(3);(function(){t.collides=function(p,c){for(var i=[],v=c.length,g=p.bounds,d=s.collides,y=l.overlaps,P=0;P<v;P++){var T=c[P],E=T.parts.length,m=E===1?0:1;if(y(T.bounds,g))for(var x=m;x<E;x++){var M=T.parts[x];if(y(M.bounds,g)){var w=d(M,p);if(w){i.push(w);break}}}}return i},t.ray=function(p,c,i,v){v=v||1e-100;for(var g=o.angle(c,i),d=o.magnitude(o.sub(c,i)),y=(i.x+c.x)*.5,P=(i.y+c.y)*.5,T=u.rectangle(y,P,d,v,{angle:g}),E=t.collides(T,p),m=0;m<E.length;m+=1){var x=E[m];x.body=x.bodyB=x.bodyA}return E},t.region=function(p,c,i){for(var v=[],g=0;g<p.length;g++){var d=p[g],y=l.overlaps(d.bounds,c);(y&&!i||!y&&i)&&v.push(d)}return v},t.point=function(p,c){for(var i=[],v=0;v<p.length;v++){var g=p[v];if(l.contains(g.bounds,c))for(var d=g.parts.length===1?0:1;d<g.parts.length;d++){var y=g.parts[d];if(l.contains(y.bounds,c)&&f.contains(y.vertices,c)){i.push(g);break}}}return i}})()},function(a,h,r){var t={};a.exports=t;var o=r(4),s=r(0),l=r(6),u=r(1),f=r(5),p=r(2),c=r(14);(function(){var i,v;typeof window<"u"&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(s.now())},1e3/60)},v=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),t._goodFps=30,t._goodDelta=1e3/60,t.create=function(m){var x={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},M=s.extend(x,m);return M.canvas&&(M.canvas.width=M.options.width||M.canvas.width,M.canvas.height=M.options.height||M.canvas.height),M.mouse=m.mouse,M.engine=m.engine,M.canvas=M.canvas||y(M.options.width,M.options.height),M.context=M.canvas.getContext("2d"),M.textures={},M.bounds=M.bounds||{min:{x:0,y:0},max:{x:M.canvas.width,y:M.canvas.height}},M.controller=t,M.options.showBroadphase=!1,M.options.pixelRatio!==1&&t.setPixelRatio(M,M.options.pixelRatio),s.isElement(M.element)&&M.element.appendChild(M.canvas),M},t.run=function(m){(function x(M){m.frameRequestId=i(x),g(m,M),t.world(m,M),m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0),(m.options.showStats||m.options.showDebug)&&t.stats(m,m.context,M),(m.options.showPerformance||m.options.showDebug)&&t.performance(m,m.context,M),m.context.setTransform(1,0,0,1,0,0)})()},t.stop=function(m){v(m.frameRequestId)},t.setPixelRatio=function(m,x){var M=m.options,w=m.canvas;x==="auto"&&(x=P(w)),M.pixelRatio=x,w.setAttribute("data-pixel-ratio",x),w.width=M.width*x,w.height=M.height*x,w.style.width=M.width+"px",w.style.height=M.height+"px"},t.setSize=function(m,x,M){m.options.width=x,m.options.height=M,m.bounds.max.x=m.bounds.min.x+x,m.bounds.max.y=m.bounds.min.y+M,m.options.pixelRatio!==1?t.setPixelRatio(m,m.options.pixelRatio):(m.canvas.width=x,m.canvas.height=M)},t.lookAt=function(m,x,M,w){w=typeof w<"u"?w:!0,x=s.isArray(x)?x:[x],M=M||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},S=0;S<x.length;S+=1){var A=x[S],I=A.bounds?A.bounds.min:A.min||A.position||A,k=A.bounds?A.bounds.max:A.max||A.position||A;I&&k&&(I.x<C.min.x&&(C.min.x=I.x),k.x>C.max.x&&(C.max.x=k.x),I.y<C.min.y&&(C.min.y=I.y),k.y>C.max.y&&(C.max.y=k.y))}var B=C.max.x-C.min.x+2*M.x,R=C.max.y-C.min.y+2*M.y,N=m.canvas.height,_=m.canvas.width,D=_/N,F=B/R,b=1,V=1;F>D?V=F/D:b=D/F,m.options.hasBounds=!0,m.bounds.min.x=C.min.x,m.bounds.max.x=C.min.x+B*b,m.bounds.min.y=C.min.y,m.bounds.max.y=C.min.y+R*V,w&&(m.bounds.min.x+=B*.5-B*b*.5,m.bounds.max.x+=B*.5-B*b*.5,m.bounds.min.y+=R*.5-R*V*.5,m.bounds.max.y+=R*.5-R*V*.5),m.bounds.min.x-=M.x,m.bounds.max.x-=M.x,m.bounds.min.y-=M.y,m.bounds.max.y-=M.y,m.mouse&&(c.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),c.setOffset(m.mouse,m.bounds.min))},t.startViewTransform=function(m){var x=m.bounds.max.x-m.bounds.min.x,M=m.bounds.max.y-m.bounds.min.y,w=x/m.options.width,C=M/m.options.height;m.context.setTransform(m.options.pixelRatio/w,0,0,m.options.pixelRatio/C,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},t.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},t.world=function(m,x){var M=s.now(),w=m.engine,C=w.world,S=m.canvas,A=m.context,I=m.options,k=m.timing,B=l.allBodies(C),R=l.allConstraints(C),N=I.wireframes?I.wireframeBackground:I.background,_=[],D=[],F,b={timestamp:w.timing.timestamp};if(f.trigger(m,"beforeRender",b),m.currentBackground!==N&&E(m,N),A.globalCompositeOperation="source-in",A.fillStyle="transparent",A.fillRect(0,0,S.width,S.height),A.globalCompositeOperation="source-over",I.hasBounds){for(F=0;F<B.length;F++){var V=B[F];u.overlaps(V.bounds,m.bounds)&&_.push(V)}for(F=0;F<R.length;F++){var $=R[F],U=$.bodyA,le=$.bodyB,Y=$.pointA,L=$.pointB;U&&(Y=p.add(U.position,$.pointA)),le&&(L=p.add(le.position,$.pointB)),!(!Y||!L)&&(u.contains(m.bounds,Y)||u.contains(m.bounds,L))&&D.push($)}t.startViewTransform(m),m.mouse&&(c.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),c.setOffset(m.mouse,m.bounds.min))}else D=R,_=B,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!I.wireframes||w.enableSleeping&&I.showSleeping?t.bodies(m,_,A):(I.showConvexHulls&&t.bodyConvexHulls(m,_,A),t.bodyWireframes(m,_,A)),I.showBounds&&t.bodyBounds(m,_,A),(I.showAxes||I.showAngleIndicator)&&t.bodyAxes(m,_,A),I.showPositions&&t.bodyPositions(m,_,A),I.showVelocity&&t.bodyVelocity(m,_,A),I.showIds&&t.bodyIds(m,_,A),I.showSeparations&&t.separations(m,w.pairs.list,A),I.showCollisions&&t.collisions(m,w.pairs.list,A),I.showVertexNumbers&&t.vertexNumbers(m,_,A),I.showMousePosition&&t.mousePosition(m,m.mouse,A),t.constraints(D,A),I.hasBounds&&t.endViewTransform(m),f.trigger(m,"afterRender",b),k.lastElapsed=s.now()-M},t.stats=function(m,x,M){for(var w=m.engine,C=w.world,S=l.allBodies(C),A=0,I=55,k=44,B=0,R=0,N=0;N<S.length;N+=1)A+=S[N].parts.length;var _={Part:A,Body:S.length,Cons:l.allConstraints(C).length,Comp:l.allComposites(C).length,Pair:w.pairs.list.length};x.fillStyle="#0e0f19",x.fillRect(B,R,I*5.5,k),x.font="12px Arial",x.textBaseline="top",x.textAlign="right";for(var D in _){var F=_[D];x.fillStyle="#aaa",x.fillText(D,B+I,R+8),x.fillStyle="#eee",x.fillText(F,B+I,R+26),B+=I}},t.performance=function(m,x){var M=m.engine,w=m.timing,C=w.deltaHistory,S=w.elapsedHistory,A=w.timestampElapsedHistory,I=w.engineDeltaHistory,k=w.engineUpdatesHistory,B=w.engineElapsedHistory,R=M.timing.lastUpdatesPerFrame,N=M.timing.lastDelta,_=d(C),D=d(S),F=d(I),b=d(k),V=d(B),$=d(A),U=$/_||0,le=Math.round(_/N),Y=1e3/_||0,L=4,K=12,H=60,Te=34,te=10,ne=69;x.fillStyle="#0e0f19",x.fillRect(0,50,K*5+H*6+22,Te),t.status(x,te,ne,H,L,C.length,Math.round(Y)+" fps",Y/t._goodFps,function(W){return C[W]/_-1}),t.status(x,te+K+H,ne,H,L,I.length,N.toFixed(2)+" dt",t._goodDelta/N,function(W){return I[W]/F-1}),t.status(x,te+(K+H)*2,ne,H,L,k.length,R+" upf",Math.pow(s.clamp(b/le||1,0,1),4),function(W){return k[W]/b-1}),t.status(x,te+(K+H)*3,ne,H,L,B.length,V.toFixed(2)+" ut",1-R*V/t._goodFps,function(W){return B[W]/V-1}),t.status(x,te+(K+H)*4,ne,H,L,S.length,D.toFixed(2)+" rt",1-D/t._goodFps,function(W){return S[W]/D-1}),t.status(x,te+(K+H)*5,ne,H,L,A.length,U.toFixed(2)+" x",U*U*U,function(W){return(A[W]/C[W]/U||0)-1})},t.status=function(m,x,M,w,C,S,A,I,k){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(x,M+7,w,1),m.beginPath(),m.moveTo(x,M+7-C*s.clamp(.4*k(0),-2,2));for(var B=0;B<w;B+=1)m.lineTo(x+B,M+7-(B<S?C*s.clamp(.4*k(B),-2,2):0));m.stroke(),m.fillStyle="hsl("+s.clamp(25+95*I,0,120)+",100%,60%)",m.fillRect(x,M-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(A,x+w,M-5)},t.constraints=function(m,x){for(var M=x,w=0;w<m.length;w++){var C=m[w];if(!(!C.render.visible||!C.pointA||!C.pointB)){var S=C.bodyA,A=C.bodyB,I,k;if(S?I=p.add(S.position,C.pointA):I=C.pointA,C.render.type==="pin")M.beginPath(),M.arc(I.x,I.y,3,0,2*Math.PI),M.closePath();else{if(A?k=p.add(A.position,C.pointB):k=C.pointB,M.beginPath(),M.moveTo(I.x,I.y),C.render.type==="spring")for(var B=p.sub(k,I),R=p.perp(p.normalise(B)),N=Math.ceil(s.clamp(C.length/5,12,20)),_,D=1;D<N;D+=1)_=D%2===0?1:-1,M.lineTo(I.x+B.x*(D/N)+R.x*_*4,I.y+B.y*(D/N)+R.y*_*4);M.lineTo(k.x,k.y)}C.render.lineWidth&&(M.lineWidth=C.render.lineWidth,M.strokeStyle=C.render.strokeStyle,M.stroke()),C.render.anchors&&(M.fillStyle=C.render.strokeStyle,M.beginPath(),M.arc(I.x,I.y,3,0,2*Math.PI),M.arc(k.x,k.y,3,0,2*Math.PI),M.closePath(),M.fill())}}},t.bodies=function(m,x,M){var w=M;m.engine;var C=m.options,S=C.showInternalEdges||!C.wireframes,A,I,k,B;for(k=0;k<x.length;k++)if(A=x[k],!!A.render.visible){for(B=A.parts.length>1?1:0;B<A.parts.length;B++)if(I=A.parts[B],!!I.render.visible){if(C.showSleeping&&A.isSleeping?w.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(w.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!C.wireframes){var R=I.render.sprite,N=T(m,R.texture);w.translate(I.position.x,I.position.y),w.rotate(I.angle),w.drawImage(N,N.width*-R.xOffset*R.xScale,N.height*-R.yOffset*R.yScale,N.width*R.xScale,N.height*R.yScale),w.rotate(-I.angle),w.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)w.beginPath(),w.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{w.beginPath(),w.moveTo(I.vertices[0].x,I.vertices[0].y);for(var _=1;_<I.vertices.length;_++)!I.vertices[_-1].isInternal||S?w.lineTo(I.vertices[_].x,I.vertices[_].y):w.moveTo(I.vertices[_].x,I.vertices[_].y),I.vertices[_].isInternal&&!S&&w.moveTo(I.vertices[(_+1)%I.vertices.length].x,I.vertices[(_+1)%I.vertices.length].y);w.lineTo(I.vertices[0].x,I.vertices[0].y),w.closePath()}C.wireframes?(w.lineWidth=1,w.strokeStyle=m.options.wireframeStrokeStyle,w.stroke()):(w.fillStyle=I.render.fillStyle,I.render.lineWidth&&(w.lineWidth=I.render.lineWidth,w.strokeStyle=I.render.strokeStyle,w.stroke()),w.fill())}w.globalAlpha=1}}},t.bodyWireframes=function(m,x,M){var w=M,C=m.options.showInternalEdges,S,A,I,k,B;for(w.beginPath(),I=0;I<x.length;I++)if(S=x[I],!!S.render.visible)for(B=S.parts.length>1?1:0;B<S.parts.length;B++){for(A=S.parts[B],w.moveTo(A.vertices[0].x,A.vertices[0].y),k=1;k<A.vertices.length;k++)!A.vertices[k-1].isInternal||C?w.lineTo(A.vertices[k].x,A.vertices[k].y):w.moveTo(A.vertices[k].x,A.vertices[k].y),A.vertices[k].isInternal&&!C&&w.moveTo(A.vertices[(k+1)%A.vertices.length].x,A.vertices[(k+1)%A.vertices.length].y);w.lineTo(A.vertices[0].x,A.vertices[0].y)}w.lineWidth=1,w.strokeStyle=m.options.wireframeStrokeStyle,w.stroke()},t.bodyConvexHulls=function(m,x,M){var w=M,C,S,A;for(w.beginPath(),S=0;S<x.length;S++)if(C=x[S],!(!C.render.visible||C.parts.length===1)){for(w.moveTo(C.vertices[0].x,C.vertices[0].y),A=1;A<C.vertices.length;A++)w.lineTo(C.vertices[A].x,C.vertices[A].y);w.lineTo(C.vertices[0].x,C.vertices[0].y)}w.lineWidth=1,w.strokeStyle="rgba(255,255,255,0.2)",w.stroke()},t.vertexNumbers=function(m,x,M){var w=M,C,S,A;for(C=0;C<x.length;C++){var I=x[C].parts;for(A=I.length>1?1:0;A<I.length;A++){var k=I[A];for(S=0;S<k.vertices.length;S++)w.fillStyle="rgba(255,255,255,0.2)",w.fillText(C+"_"+S,k.position.x+(k.vertices[S].x-k.position.x)*.8,k.position.y+(k.vertices[S].y-k.position.y)*.8)}}},t.mousePosition=function(m,x,M){var w=M;w.fillStyle="rgba(255,255,255,0.8)",w.fillText(x.position.x+"  "+x.position.y,x.position.x+5,x.position.y-5)},t.bodyBounds=function(m,x,M){var w=M;m.engine;var C=m.options;w.beginPath();for(var S=0;S<x.length;S++){var A=x[S];if(A.render.visible)for(var I=x[S].parts,k=I.length>1?1:0;k<I.length;k++){var B=I[k];w.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}C.wireframes?w.strokeStyle="rgba(255,255,255,0.08)":w.strokeStyle="rgba(0,0,0,0.1)",w.lineWidth=1,w.stroke()},t.bodyAxes=function(m,x,M){var w=M;m.engine;var C=m.options,S,A,I,k;for(w.beginPath(),A=0;A<x.length;A++){var B=x[A],R=B.parts;if(B.render.visible)if(C.showAxes)for(I=R.length>1?1:0;I<R.length;I++)for(S=R[I],k=0;k<S.axes.length;k++){var N=S.axes[k];w.moveTo(S.position.x,S.position.y),w.lineTo(S.position.x+N.x*20,S.position.y+N.y*20)}else for(I=R.length>1?1:0;I<R.length;I++)for(S=R[I],k=0;k<S.axes.length;k++)w.moveTo(S.position.x,S.position.y),w.lineTo((S.vertices[0].x+S.vertices[S.vertices.length-1].x)/2,(S.vertices[0].y+S.vertices[S.vertices.length-1].y)/2)}C.wireframes?(w.strokeStyle="indianred",w.lineWidth=1):(w.strokeStyle="rgba(255, 255, 255, 0.4)",w.globalCompositeOperation="overlay",w.lineWidth=2),w.stroke(),w.globalCompositeOperation="source-over"},t.bodyPositions=function(m,x,M){var w=M;m.engine;var C=m.options,S,A,I,k;for(w.beginPath(),I=0;I<x.length;I++)if(S=x[I],!!S.render.visible)for(k=0;k<S.parts.length;k++)A=S.parts[k],w.arc(A.position.x,A.position.y,3,0,2*Math.PI,!1),w.closePath();for(C.wireframes?w.fillStyle="indianred":w.fillStyle="rgba(0,0,0,0.5)",w.fill(),w.beginPath(),I=0;I<x.length;I++)S=x[I],S.render.visible&&(w.arc(S.positionPrev.x,S.positionPrev.y,2,0,2*Math.PI,!1),w.closePath());w.fillStyle="rgba(255,165,0,0.8)",w.fill()},t.bodyVelocity=function(m,x,M){var w=M;w.beginPath();for(var C=0;C<x.length;C++){var S=x[C];if(S.render.visible){var A=o.getVelocity(S);w.moveTo(S.position.x,S.position.y),w.lineTo(S.position.x+A.x,S.position.y+A.y)}}w.lineWidth=3,w.strokeStyle="cornflowerblue",w.stroke()},t.bodyIds=function(m,x,M){var w=M,C,S;for(C=0;C<x.length;C++)if(x[C].render.visible){var A=x[C].parts;for(S=A.length>1?1:0;S<A.length;S++){var I=A[S];w.font="12px Arial",w.fillStyle="rgba(255,255,255,0.5)",w.fillText(I.id,I.position.x+10,I.position.y-10)}}},t.collisions=function(m,x,M){var w=M,C=m.options,S,A,I,k;for(w.beginPath(),I=0;I<x.length;I++)if(S=x[I],!!S.isActive)for(A=S.collision,k=0;k<S.contactCount;k++){var B=S.contacts[k],R=B.vertex;w.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(C.wireframes?w.fillStyle="rgba(255,255,255,0.7)":w.fillStyle="orange",w.fill(),w.beginPath(),I=0;I<x.length;I++)if(S=x[I],!!S.isActive&&(A=S.collision,S.contactCount>0)){var N=S.contacts[0].vertex.x,_=S.contacts[0].vertex.y;S.contactCount===2&&(N=(S.contacts[0].vertex.x+S.contacts[1].vertex.x)/2,_=(S.contacts[0].vertex.y+S.contacts[1].vertex.y)/2),A.bodyB===A.supports[0].body||A.bodyA.isStatic===!0?w.moveTo(N-A.normal.x*8,_-A.normal.y*8):w.moveTo(N+A.normal.x*8,_+A.normal.y*8),w.lineTo(N,_)}C.wireframes?w.strokeStyle="rgba(255,165,0,0.7)":w.strokeStyle="orange",w.lineWidth=1,w.stroke()},t.separations=function(m,x,M){var w=M,C=m.options,S,A,I,k,B;for(w.beginPath(),B=0;B<x.length;B++)if(S=x[B],!!S.isActive){A=S.collision,I=A.bodyA,k=A.bodyB;var R=1;!k.isStatic&&!I.isStatic&&(R=.5),k.isStatic&&(R=0),w.moveTo(k.position.x,k.position.y),w.lineTo(k.position.x-A.penetration.x*R,k.position.y-A.penetration.y*R),R=1,!k.isStatic&&!I.isStatic&&(R=.5),I.isStatic&&(R=0),w.moveTo(I.position.x,I.position.y),w.lineTo(I.position.x+A.penetration.x*R,I.position.y+A.penetration.y*R)}C.wireframes?w.strokeStyle="rgba(255,165,0,0.5)":w.strokeStyle="orange",w.stroke()},t.inspector=function(m,x){m.engine;var M=m.selected,w=m.render,C=w.options,S;if(C.hasBounds){var A=w.bounds.max.x-w.bounds.min.x,I=w.bounds.max.y-w.bounds.min.y,k=A/w.options.width,B=I/w.options.height;x.scale(1/k,1/B),x.translate(-w.bounds.min.x,-w.bounds.min.y)}for(var R=0;R<M.length;R++){var N=M[R].data;switch(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.9)",x.setLineDash([1,2]),N.type){case"body":S=N.bounds,x.beginPath(),x.rect(Math.floor(S.min.x-3),Math.floor(S.min.y-3),Math.floor(S.max.x-S.min.x+6),Math.floor(S.max.y-S.min.y+6)),x.closePath(),x.stroke();break;case"constraint":var _=N.pointA;N.bodyA&&(_=N.pointB),x.beginPath(),x.arc(_.x,_.y,10,0,2*Math.PI),x.closePath(),x.stroke();break}x.setLineDash([]),x.translate(-.5,-.5)}m.selectStart!==null&&(x.translate(.5,.5),x.lineWidth=1,x.strokeStyle="rgba(255,165,0,0.6)",x.fillStyle="rgba(255,165,0,0.1)",S=m.selectBounds,x.beginPath(),x.rect(Math.floor(S.min.x),Math.floor(S.min.y),Math.floor(S.max.x-S.min.x),Math.floor(S.max.y-S.min.y)),x.closePath(),x.stroke(),x.fill(),x.translate(-.5,-.5)),C.hasBounds&&x.setTransform(1,0,0,1,0,0)};var g=function(m,x){var M=m.engine,w=m.timing,C=w.historySize,S=M.timing.timestamp;w.delta=x-w.lastTime||t._goodDelta,w.lastTime=x,w.timestampElapsed=S-w.lastTimestamp||0,w.lastTimestamp=S,w.deltaHistory.unshift(w.delta),w.deltaHistory.length=Math.min(w.deltaHistory.length,C),w.engineDeltaHistory.unshift(M.timing.lastDelta),w.engineDeltaHistory.length=Math.min(w.engineDeltaHistory.length,C),w.timestampElapsedHistory.unshift(w.timestampElapsed),w.timestampElapsedHistory.length=Math.min(w.timestampElapsedHistory.length,C),w.engineUpdatesHistory.unshift(M.timing.lastUpdatesPerFrame),w.engineUpdatesHistory.length=Math.min(w.engineUpdatesHistory.length,C),w.engineElapsedHistory.unshift(M.timing.lastElapsed),w.engineElapsedHistory.length=Math.min(w.engineElapsedHistory.length,C),w.elapsedHistory.unshift(w.lastElapsed),w.elapsedHistory.length=Math.min(w.elapsedHistory.length,C)},d=function(m){for(var x=0,M=0;M<m.length;M+=1)x+=m[M];return x/m.length||0},y=function(m,x){var M=document.createElement("canvas");return M.width=m,M.height=x,M.oncontextmenu=function(){return!1},M.onselectstart=function(){return!1},M},P=function(m){var x=m.getContext("2d"),M=window.devicePixelRatio||1,w=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return M/w},T=function(m,x){var M=m.textures[x];return M||(M=m.textures[x]=new Image,M.src=x,M)},E=function(m,x){var M=x;/(jpg|gif|png)$/.test(x)&&(M="url("+x+")"),m.canvas.style.background=M,m.canvas.style.backgroundSize="contain",m.currentBackground=x}})()},function(a,h,r){var t={};a.exports=t;var o=r(5),s=r(17),l=r(0);(function(){t._maxFrameDelta=1e3/15,t._frameDeltaFallback=1e3/60,t._timeBufferMargin=1.5,t._elapsedNextEstimate=1,t._smoothingLowerBound=.1,t._smoothingUpperBound=.9,t.create=function(f){var p={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=l.extend(p,f);return c.fps=0,c},t.run=function(f,p){return f.timeBuffer=t._frameDeltaFallback,function c(i){f.frameRequestId=t._onNextFrame(f,c),i&&f.enabled&&t.tick(f,p,i)}(),f},t.tick=function(f,p,c){var i=l.now(),v=f.delta,g=0,d=c-f.timeLastTick;if((!d||!f.timeLastTick||d>Math.max(t._maxFrameDelta,f.maxFrameTime))&&(d=f.frameDelta||t._frameDeltaFallback),f.frameDeltaSmoothing){f.frameDeltaHistory.push(d),f.frameDeltaHistory=f.frameDeltaHistory.slice(-f.frameDeltaHistorySize);var y=f.frameDeltaHistory.slice(0).sort(),P=f.frameDeltaHistory.slice(y.length*t._smoothingLowerBound,y.length*t._smoothingUpperBound),T=u(P);d=T||d}f.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),f.frameDelta=d,f.timeLastTick=c,f.timeBuffer+=f.frameDelta,f.timeBuffer=l.clamp(f.timeBuffer,0,f.frameDelta+v*t._timeBufferMargin),f.lastUpdatesDeferred=0;var E=f.maxUpdates||Math.ceil(f.maxFrameTime/v),m={timestamp:p.timing.timestamp};o.trigger(f,"beforeTick",m),o.trigger(f,"tick",m);for(var x=l.now();v>0&&f.timeBuffer>=v*t._timeBufferMargin;){o.trigger(f,"beforeUpdate",m),s.update(p,v),o.trigger(f,"afterUpdate",m),f.timeBuffer-=v,g+=1;var M=l.now()-i,w=l.now()-x,C=M+t._elapsedNextEstimate*w/g;if(g>=E||C>f.maxFrameTime){f.lastUpdatesDeferred=Math.round(Math.max(0,f.timeBuffer/v-t._timeBufferMargin));break}}p.timing.lastUpdatesPerFrame=g,o.trigger(f,"afterTick",m),f.frameDeltaHistory.length>=100&&(f.lastUpdatesDeferred&&Math.round(f.frameDelta/v)>E?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):f.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof f.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(f.deltaMin||f.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),f.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},t.stop=function(f){t._cancelNextFrame(f)},t._onNextFrame=function(f,p){if(typeof window<"u"&&window.requestAnimationFrame)f.frameRequestId=window.requestAnimationFrame(p);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return f.frameRequestId},t._cancelNextFrame=function(f){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(f.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(f){for(var p=0,c=f.length,i=0;i<c;i+=1)p+=f[i];return p/c||0}})()},function(a,h,r){var t={};a.exports=t;var o=r(8),s=r(0),l=s.deprecated;(function(){t.collides=function(u,f){return o.collides(u,f)},l(t,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(a,h,r){var t={};a.exports=t,r(1);var o=r(0);(function(){t.pathToVertices=function(s,l){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,f,p,c,i,v,g,d,y,P,T=[],E,m,x=0,M=0,w=0;l=l||15;var C=function(A,I,k){var B=k%2===1&&k>1;if(!y||A!=y.x||I!=y.y){y&&B?(E=y.x,m=y.y):(E=0,m=0);var R={x:E+A,y:m+I};(B||!y)&&(y=R),T.push(R),M=E+A,w=m+I}},S=function(A){var I=A.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":M=A.x,w=A.y;break;case"H":M=A.x;break;case"V":w=A.y;break}C(M,w,A.pathSegType)}};for(t._svgPathToAbsolute(s),p=s.getTotalLength(),v=[],u=0;u<s.pathSegList.numberOfItems;u+=1)v.push(s.pathSegList.getItem(u));for(g=v.concat();x<p;){if(P=s.getPathSegAtLength(x),i=v[P],i!=d){for(;g.length&&g[0]!=i;)S(g.shift());d=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=s.getPointAtLength(x),C(c.x,c.y,0);break}x+=l}for(u=0,f=g.length;u<f;++u)S(g[u]);return T},t._svgPathToAbsolute=function(s){for(var l,u,f,p,c,i,v=s.pathSegList,g=0,d=0,y=v.numberOfItems,P=0;P<y;++P){var T=v.getItem(P),E=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in T&&(g=T.x),"y"in T&&(d=T.y);else switch("x1"in T&&(f=g+T.x1),"x2"in T&&(c=g+T.x2),"y1"in T&&(p=d+T.y1),"y2"in T&&(i=d+T.y2),"x"in T&&(g+=T.x),"y"in T&&(d+=T.y),E){case"m":v.replaceItem(s.createSVGPathSegMovetoAbs(g,d),P);break;case"l":v.replaceItem(s.createSVGPathSegLinetoAbs(g,d),P);break;case"h":v.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(g),P);break;case"v":v.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),P);break;case"c":v.replaceItem(s.createSVGPathSegCurvetoCubicAbs(g,d,f,p,c,i),P);break;case"s":v.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(g,d,c,i),P);break;case"q":v.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(g,d,f,p),P);break;case"t":v.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(g,d),P);break;case"a":v.replaceItem(s.createSVGPathSegArcAbs(g,d,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),P);break;case"z":case"Z":g=l,d=u;break}(E=="M"||E=="m")&&(l=g,u=d)}}})()},function(a,h,r){var t={};a.exports=t;var o=r(6);r(0),function(){t.create=o.create,t.add=o.add,t.remove=o.remove,t.clear=o.clear,t.addComposite=o.addComposite,t.addBody=o.addBody,t.addConstraint=o.addConstraint}()}])})})(jn);var Vr=jn.exports;const O=Jn(Vr),me=150,qe=100,$r=qe/4;function je(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Hr(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function ei(e){let n,a,h;e.length!==2?(n=je,a=(s,l)=>je(e(s),l),h=(s,l)=>e(s)-l):(n=e===je||e===Hr?e:Ur,a=e,h=e);function r(s,l,u=0,f=s.length){if(u<f){if(n(l,l)!==0)return f;do{const p=u+f>>>1;a(s[p],l)<0?u=p+1:f=p}while(u<f)}return u}function t(s,l,u=0,f=s.length){if(u<f){if(n(l,l)!==0)return f;do{const p=u+f>>>1;a(s[p],l)<=0?u=p+1:f=p}while(u<f)}return u}function o(s,l,u=0,f=s.length){const p=r(s,l,u,f-1);return p>u&&h(s[p-1],l)>-h(s[p],l)?p-1:p}return{left:r,center:o,right:t}}function Ur(){return 0}function zr(e){return e===null?NaN:+e}const Wr=ei(je),Gr=Wr.right;ei(zr).center;const Xr=Math.sqrt(50),Yr=Math.sqrt(10),Kr=Math.sqrt(2);function ot(e,n,a){const h=(n-e)/Math.max(0,a),r=Math.floor(Math.log10(h)),t=h/Math.pow(10,r),o=t>=Xr?10:t>=Yr?5:t>=Kr?2:1;let s,l,u;return r<0?(u=Math.pow(10,-r)/o,s=Math.round(e*u),l=Math.round(n*u),s/u<e&&++s,l/u>n&&--l,u=-u):(u=Math.pow(10,r)*o,s=Math.round(e/u),l=Math.round(n/u),s*u<e&&++s,l*u>n&&--l),l<s&&.5<=a&&a<2?ot(e,n,a*2):[s,l,u]}function Qr(e,n,a){if(n=+n,e=+e,a=+a,!(a>0))return[];if(e===n)return[e];const h=n<e,[r,t,o]=h?ot(n,e,a):ot(e,n,a);if(!(t>=r))return[];const s=t-r+1,l=new Array(s);if(h)if(o<0)for(let u=0;u<s;++u)l[u]=(t-u)/-o;else for(let u=0;u<s;++u)l[u]=(t-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(r+u)/-o;else for(let u=0;u<s;++u)l[u]=(r+u)*o;return l}function Nt(e,n,a){return n=+n,e=+e,a=+a,ot(e,n,a)[2]}function Zr(e,n,a){n=+n,e=+e,a=+a;const h=n<e,r=h?Nt(n,e,a):Nt(e,n,a);return(h?-1:1)*(r<0?1/-r:r)}var Jr={value:()=>{}};function ti(){for(var e=0,n=arguments.length,a={},h;e<n;++e){if(!(h=arguments[e]+"")||h in a||/[\s.]/.test(h))throw new Error("illegal type: "+h);a[h]=[]}return new et(a)}function et(e){this._=e}function qr(e,n){return e.trim().split(/^|\s+/).map(function(a){var h="",r=a.indexOf(".");if(r>=0&&(h=a.slice(r+1),a=a.slice(0,r)),a&&!n.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:h}})}et.prototype=ti.prototype={constructor:et,on:function(e,n){var a=this._,h=qr(e+"",a),r,t=-1,o=h.length;if(arguments.length<2){for(;++t<o;)if((r=(e=h[t]).type)&&(r=jr(a[r],e.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++t<o;)if(r=(e=h[t]).type)a[r]=Sn(a[r],e.name,n);else if(n==null)for(r in a)a[r]=Sn(a[r],e.name,null);return this},copy:function(){var e={},n=this._;for(var a in n)e[a]=n[a].slice();return new et(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var a=new Array(r),h=0,r,t;h<r;++h)a[h]=arguments[h+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(t=this._[e],h=0,r=t.length;h<r;++h)t[h].value.apply(n,a)},apply:function(e,n,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var h=this._[e],r=0,t=h.length;r<t;++r)h[r].value.apply(n,a)}};function jr(e,n){for(var a=0,h=e.length,r;a<h;++a)if((r=e[a]).name===n)return r.value}function Sn(e,n,a){for(var h=0,r=e.length;h<r;++h)if(e[h].name===n){e[h]=Jr,e=e.slice(0,h).concat(e.slice(h+1));break}return a!=null&&e.push({name:n,value:a}),e}var Dt="http://www.w3.org/1999/xhtml";const Mn={svg:"http://www.w3.org/2000/svg",xhtml:Dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dt(e){var n=e+="",a=n.indexOf(":");return a>=0&&(n=e.slice(0,a))!=="xmlns"&&(e=e.slice(a+1)),Mn.hasOwnProperty(n)?{space:Mn[n],local:e}:e}function ea(e){return function(){var n=this.ownerDocument,a=this.namespaceURI;return a===Dt&&n.documentElement.namespaceURI===Dt?n.createElement(e):n.createElementNS(a,e)}}function ta(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ni(e){var n=dt(e);return(n.local?ta:ea)(n)}function na(){}function Wt(e){return e==null?na:function(){return this.querySelector(e)}}function ia(e){typeof e!="function"&&(e=Wt(e));for(var n=this._groups,a=n.length,h=new Array(a),r=0;r<a;++r)for(var t=n[r],o=t.length,s=h[r]=new Array(o),l,u,f=0;f<o;++f)(l=t[f])&&(u=e.call(l,l.__data__,f,t))&&("__data__"in l&&(u.__data__=l.__data__),s[f]=u);return new j(h,this._parents)}function ra(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function aa(){return[]}function ii(e){return e==null?aa:function(){return this.querySelectorAll(e)}}function oa(e){return function(){return ra(e.apply(this,arguments))}}function sa(e){typeof e=="function"?e=oa(e):e=ii(e);for(var n=this._groups,a=n.length,h=[],r=[],t=0;t<a;++t)for(var o=n[t],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(h.push(e.call(l,l.__data__,u,o)),r.push(l));return new j(h,r)}function ri(e){return function(){return this.matches(e)}}function ai(e){return function(n){return n.matches(e)}}var la=Array.prototype.find;function fa(e){return function(){return la.call(this.children,e)}}function ua(){return this.firstElementChild}function ca(e){return this.select(e==null?ua:fa(typeof e=="function"?e:ai(e)))}var ha=Array.prototype.filter;function va(){return Array.from(this.children)}function ga(e){return function(){return ha.call(this.children,e)}}function pa(e){return this.selectAll(e==null?va:ga(typeof e=="function"?e:ai(e)))}function da(e){typeof e!="function"&&(e=ri(e));for(var n=this._groups,a=n.length,h=new Array(a),r=0;r<a;++r)for(var t=n[r],o=t.length,s=h[r]=[],l,u=0;u<o;++u)(l=t[u])&&e.call(l,l.__data__,u,t)&&s.push(l);return new j(h,this._parents)}function oi(e){return new Array(e.length)}function ma(){return new j(this._enter||this._groups.map(oi),this._parents)}function st(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}st.prototype={constructor:st,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xa(e){return function(){return e}}function ya(e,n,a,h,r,t){for(var o=0,s,l=n.length,u=t.length;o<u;++o)(s=n[o])?(s.__data__=t[o],h[o]=s):a[o]=new st(e,t[o]);for(;o<l;++o)(s=n[o])&&(r[o]=s)}function wa(e,n,a,h,r,t,o){var s,l,u=new Map,f=n.length,p=t.length,c=new Array(f),i;for(s=0;s<f;++s)(l=n[s])&&(c[s]=i=o.call(l,l.__data__,s,n)+"",u.has(i)?r[s]=l:u.set(i,l));for(s=0;s<p;++s)i=o.call(e,t[s],s,t)+"",(l=u.get(i))?(h[s]=l,l.__data__=t[s],u.delete(i)):a[s]=new st(e,t[s]);for(s=0;s<f;++s)(l=n[s])&&u.get(c[s])===l&&(r[s]=l)}function Sa(e){return e.__data__}function Ma(e,n){if(!arguments.length)return Array.from(this,Sa);var a=n?wa:ya,h=this._parents,r=this._groups;typeof e!="function"&&(e=xa(e));for(var t=r.length,o=new Array(t),s=new Array(t),l=new Array(t),u=0;u<t;++u){var f=h[u],p=r[u],c=p.length,i=Ca(e.call(f,f&&f.__data__,u,h)),v=i.length,g=s[u]=new Array(v),d=o[u]=new Array(v),y=l[u]=new Array(c);a(f,p,g,d,y,i,n);for(var P=0,T=0,E,m;P<v;++P)if(E=g[P]){for(P>=T&&(T=P+1);!(m=d[T])&&++T<v;);E._next=m||null}}return o=new j(o,h),o._enter=s,o._exit=l,o}function Ca(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Pa(){return new j(this._exit||this._groups.map(oi),this._parents)}function Aa(e,n,a){var h=this.enter(),r=this,t=this.exit();return typeof e=="function"?(h=e(h),h&&(h=h.selection())):h=h.append(e+""),n!=null&&(r=n(r),r&&(r=r.selection())),a==null?t.remove():a(t),h&&r?h.merge(r).order():r}function Ta(e){for(var n=e.selection?e.selection():e,a=this._groups,h=n._groups,r=a.length,t=h.length,o=Math.min(r,t),s=new Array(r),l=0;l<o;++l)for(var u=a[l],f=h[l],p=u.length,c=s[l]=new Array(p),i,v=0;v<p;++v)(i=u[v]||f[v])&&(c[v]=i);for(;l<r;++l)s[l]=a[l];return new j(s,this._parents)}function Ia(){for(var e=this._groups,n=-1,a=e.length;++n<a;)for(var h=e[n],r=h.length-1,t=h[r],o;--r>=0;)(o=h[r])&&(t&&o.compareDocumentPosition(t)^4&&t.parentNode.insertBefore(o,t),t=o);return this}function Ea(e){e||(e=ka);function n(p,c){return p&&c?e(p.__data__,c.__data__):!p-!c}for(var a=this._groups,h=a.length,r=new Array(h),t=0;t<h;++t){for(var o=a[t],s=o.length,l=r[t]=new Array(s),u,f=0;f<s;++f)(u=o[f])&&(l[f]=u);l.sort(n)}return new j(r,this._parents).order()}function ka(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Ra(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ba(){return Array.from(this)}function _a(){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var h=e[n],r=0,t=h.length;r<t;++r){var o=h[r];if(o)return o}return null}function Na(){let e=0;for(const n of this)++e;return e}function Da(){return!this.node()}function Fa(e){for(var n=this._groups,a=0,h=n.length;a<h;++a)for(var r=n[a],t=0,o=r.length,s;t<o;++t)(s=r[t])&&e.call(s,s.__data__,t,r);return this}function La(e){return function(){this.removeAttribute(e)}}function ba(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oa(e,n){return function(){this.setAttribute(e,n)}}function Va(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function $a(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function Ha(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function Ua(e,n){var a=dt(e);if(arguments.length<2){var h=this.node();return a.local?h.getAttributeNS(a.space,a.local):h.getAttribute(a)}return this.each((n==null?a.local?ba:La:typeof n=="function"?a.local?Ha:$a:a.local?Va:Oa)(a,n))}function si(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function za(e){return function(){this.style.removeProperty(e)}}function Wa(e,n,a){return function(){this.style.setProperty(e,n,a)}}function Ga(e,n,a){return function(){var h=n.apply(this,arguments);h==null?this.style.removeProperty(e):this.style.setProperty(e,h,a)}}function Xa(e,n,a){return arguments.length>1?this.each((n==null?za:typeof n=="function"?Ga:Wa)(e,n,a??"")):Ce(this.node(),e)}function Ce(e,n){return e.style.getPropertyValue(n)||si(e).getComputedStyle(e,null).getPropertyValue(n)}function Ya(e){return function(){delete this[e]}}function Ka(e,n){return function(){this[e]=n}}function Qa(e,n){return function(){var a=n.apply(this,arguments);a==null?delete this[e]:this[e]=a}}function Za(e,n){return arguments.length>1?this.each((n==null?Ya:typeof n=="function"?Qa:Ka)(e,n)):this.node()[e]}function li(e){return e.trim().split(/^|\s+/)}function Gt(e){return e.classList||new fi(e)}function fi(e){this._node=e,this._names=li(e.getAttribute("class")||"")}fi.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ui(e,n){for(var a=Gt(e),h=-1,r=n.length;++h<r;)a.add(n[h])}function ci(e,n){for(var a=Gt(e),h=-1,r=n.length;++h<r;)a.remove(n[h])}function Ja(e){return function(){ui(this,e)}}function qa(e){return function(){ci(this,e)}}function ja(e,n){return function(){(n.apply(this,arguments)?ui:ci)(this,e)}}function eo(e,n){var a=li(e+"");if(arguments.length<2){for(var h=Gt(this.node()),r=-1,t=a.length;++r<t;)if(!h.contains(a[r]))return!1;return!0}return this.each((typeof n=="function"?ja:n?Ja:qa)(a,n))}function to(){this.textContent=""}function no(e){return function(){this.textContent=e}}function io(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function ro(e){return arguments.length?this.each(e==null?to:(typeof e=="function"?io:no)(e)):this.node().textContent}function ao(){this.innerHTML=""}function oo(e){return function(){this.innerHTML=e}}function so(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function lo(e){return arguments.length?this.each(e==null?ao:(typeof e=="function"?so:oo)(e)):this.node().innerHTML}function fo(){this.nextSibling&&this.parentNode.appendChild(this)}function uo(){return this.each(fo)}function co(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ho(){return this.each(co)}function vo(e){var n=typeof e=="function"?e:ni(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function go(){return null}function po(e,n){var a=typeof e=="function"?e:ni(e),h=n==null?go:typeof n=="function"?n:Wt(n);return this.select(function(){return this.insertBefore(a.apply(this,arguments),h.apply(this,arguments)||null)})}function mo(){var e=this.parentNode;e&&e.removeChild(this)}function xo(){return this.each(mo)}function yo(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function wo(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function So(e){return this.select(e?wo:yo)}function Mo(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Co(e){return function(n){e.call(this,n,this.__data__)}}function Po(e){return e.trim().split(/^|\s+/).map(function(n){var a="",h=n.indexOf(".");return h>=0&&(a=n.slice(h+1),n=n.slice(0,h)),{type:n,name:a}})}function Ao(e){return function(){var n=this.__on;if(n){for(var a=0,h=-1,r=n.length,t;a<r;++a)t=n[a],(!e.type||t.type===e.type)&&t.name===e.name?this.removeEventListener(t.type,t.listener,t.options):n[++h]=t;++h?n.length=h:delete this.__on}}}function To(e,n,a){return function(){var h=this.__on,r,t=Co(n);if(h){for(var o=0,s=h.length;o<s;++o)if((r=h[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=t,r.options=a),r.value=n;return}}this.addEventListener(e.type,t,a),r={type:e.type,name:e.name,value:n,listener:t,options:a},h?h.push(r):this.__on=[r]}}function Io(e,n,a){var h=Po(e+""),r,t=h.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,f;l<u;++l)for(r=0,f=s[l];r<t;++r)if((o=h[r]).type===f.type&&o.name===f.name)return f.value}return}for(s=n?To:Ao,r=0;r<t;++r)this.each(s(h[r],n,a));return this}function hi(e,n,a){var h=si(e),r=h.CustomEvent;typeof r=="function"?r=new r(n,a):(r=h.document.createEvent("Event"),a?(r.initEvent(n,a.bubbles,a.cancelable),r.detail=a.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function Eo(e,n){return function(){return hi(this,e,n)}}function ko(e,n){return function(){return hi(this,e,n.apply(this,arguments))}}function Ro(e,n){return this.each((typeof n=="function"?ko:Eo)(e,n))}function*Bo(){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var h=e[n],r=0,t=h.length,o;r<t;++r)(o=h[r])&&(yield o)}var _o=[null];function j(e,n){this._groups=e,this._parents=n}function Ue(){return new j([[document.documentElement]],_o)}function No(){return this}j.prototype=Ue.prototype={constructor:j,select:ia,selectAll:sa,selectChild:ca,selectChildren:pa,filter:da,data:Ma,enter:ma,exit:Pa,join:Aa,merge:Ta,selection:No,order:Ia,sort:Ea,call:Ra,nodes:Ba,node:_a,size:Na,empty:Da,each:Fa,attr:Ua,style:Xa,property:Za,classed:eo,text:ro,html:lo,raise:uo,lower:ho,append:vo,insert:po,remove:xo,clone:So,datum:Mo,on:Io,dispatch:Ro,[Symbol.iterator]:Bo};function Xt(e,n,a){e.prototype=n.prototype=a,a.constructor=e}function vi(e,n){var a=Object.create(e.prototype);for(var h in n)a[h]=n[h];return a}function ze(){}var Fe=.7,lt=1/Fe,ye="\\s*([+-]?\\d+)\\s*",Le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ie="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Do=/^#([0-9a-f]{3,8})$/,Fo=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),Lo=new RegExp(`^rgb\\(${ie},${ie},${ie}\\)$`),bo=new RegExp(`^rgba\\(${ye},${ye},${ye},${Le}\\)$`),Oo=new RegExp(`^rgba\\(${ie},${ie},${ie},${Le}\\)$`),Vo=new RegExp(`^hsl\\(${Le},${ie},${ie}\\)$`),$o=new RegExp(`^hsla\\(${Le},${ie},${ie},${Le}\\)$`),Cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xt(ze,pe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pn,formatHex:Pn,formatHex8:Ho,formatHsl:Uo,formatRgb:An,toString:An});function Pn(){return this.rgb().formatHex()}function Ho(){return this.rgb().formatHex8()}function Uo(){return gi(this).formatHsl()}function An(){return this.rgb().formatRgb()}function pe(e){var n,a;return e=(e+"").trim().toLowerCase(),(n=Do.exec(e))?(a=n[1].length,n=parseInt(n[1],16),a===6?Tn(n):a===3?new X(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):a===8?Ye(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):a===4?Ye(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Fo.exec(e))?new X(n[1],n[2],n[3],1):(n=Lo.exec(e))?new X(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=bo.exec(e))?Ye(n[1],n[2],n[3],n[4]):(n=Oo.exec(e))?Ye(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Vo.exec(e))?kn(n[1],n[2]/100,n[3]/100,1):(n=$o.exec(e))?kn(n[1],n[2]/100,n[3]/100,n[4]):Cn.hasOwnProperty(e)?Tn(Cn[e]):e==="transparent"?new X(NaN,NaN,NaN,0):null}function Tn(e){return new X(e>>16&255,e>>8&255,e&255,1)}function Ye(e,n,a,h){return h<=0&&(e=n=a=NaN),new X(e,n,a,h)}function zo(e){return e instanceof ze||(e=pe(e)),e?(e=e.rgb(),new X(e.r,e.g,e.b,e.opacity)):new X}function Ft(e,n,a,h){return arguments.length===1?zo(e):new X(e,n,a,h??1)}function X(e,n,a,h){this.r=+e,this.g=+n,this.b=+a,this.opacity=+h}Xt(X,Ft,vi(ze,{brighter(e){return e=e==null?lt:Math.pow(lt,e),new X(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fe:Math.pow(Fe,e),new X(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new X(ge(this.r),ge(this.g),ge(this.b),ft(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatHex8:Wo,formatRgb:En,toString:En}));function In(){return`#${ve(this.r)}${ve(this.g)}${ve(this.b)}`}function Wo(){return`#${ve(this.r)}${ve(this.g)}${ve(this.b)}${ve((isNaN(this.opacity)?1:this.opacity)*255)}`}function En(){const e=ft(this.opacity);return`${e===1?"rgb(":"rgba("}${ge(this.r)}, ${ge(this.g)}, ${ge(this.b)}${e===1?")":`, ${e})`}`}function ft(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ge(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ve(e){return e=ge(e),(e<16?"0":"")+e.toString(16)}function kn(e,n,a,h){return h<=0?e=n=a=NaN:a<=0||a>=1?e=n=NaN:n<=0&&(e=NaN),new q(e,n,a,h)}function gi(e){if(e instanceof q)return new q(e.h,e.s,e.l,e.opacity);if(e instanceof ze||(e=pe(e)),!e)return new q;if(e instanceof q)return e;e=e.rgb();var n=e.r/255,a=e.g/255,h=e.b/255,r=Math.min(n,a,h),t=Math.max(n,a,h),o=NaN,s=t-r,l=(t+r)/2;return s?(n===t?o=(a-h)/s+(a<h)*6:a===t?o=(h-n)/s+2:o=(n-a)/s+4,s/=l<.5?t+r:2-t-r,o*=60):s=l>0&&l<1?0:o,new q(o,s,l,e.opacity)}function Go(e,n,a,h){return arguments.length===1?gi(e):new q(e,n,a,h??1)}function q(e,n,a,h){this.h=+e,this.s=+n,this.l=+a,this.opacity=+h}Xt(q,Go,vi(ze,{brighter(e){return e=e==null?lt:Math.pow(lt,e),new q(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fe:Math.pow(Fe,e),new q(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,h=a+(a<.5?a:1-a)*n,r=2*a-h;return new X(It(e>=240?e-240:e+120,r,h),It(e,r,h),It(e<120?e+240:e-120,r,h),this.opacity)},clamp(){return new q(Rn(this.h),Ke(this.s),Ke(this.l),ft(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ft(this.opacity);return`${e===1?"hsl(":"hsla("}${Rn(this.h)}, ${Ke(this.s)*100}%, ${Ke(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Rn(e){return e=(e||0)%360,e<0?e+360:e}function Ke(e){return Math.max(0,Math.min(1,e||0))}function It(e,n,a){return(e<60?n+(a-n)*e/60:e<180?a:e<240?n+(a-n)*(240-e)/60:n)*255}const Yt=e=>()=>e;function Xo(e,n){return function(a){return e+a*n}}function Yo(e,n,a){return e=Math.pow(e,a),n=Math.pow(n,a)-e,a=1/a,function(h){return Math.pow(e+h*n,a)}}function Ko(e){return(e=+e)==1?pi:function(n,a){return a-n?Yo(n,a,e):Yt(isNaN(n)?a:n)}}function pi(e,n){var a=n-e;return a?Xo(e,a):Yt(isNaN(e)?n:e)}const ut=function e(n){var a=Ko(n);function h(r,t){var o=a((r=Ft(r)).r,(t=Ft(t)).r),s=a(r.g,t.g),l=a(r.b,t.b),u=pi(r.opacity,t.opacity);return function(f){return r.r=o(f),r.g=s(f),r.b=l(f),r.opacity=u(f),r+""}}return h.gamma=e,h}(1);function Qo(e,n){n||(n=[]);var a=e?Math.min(n.length,e.length):0,h=n.slice(),r;return function(t){for(r=0;r<a;++r)h[r]=e[r]*(1-t)+n[r]*t;return h}}function Zo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jo(e,n){var a=n?n.length:0,h=e?Math.min(a,e.length):0,r=new Array(h),t=new Array(a),o;for(o=0;o<h;++o)r[o]=Kt(e[o],n[o]);for(;o<a;++o)t[o]=n[o];return function(s){for(o=0;o<h;++o)t[o]=r[o](s);return t}}function qo(e,n){var a=new Date;return e=+e,n=+n,function(h){return a.setTime(e*(1-h)+n*h),a}}function Z(e,n){return e=+e,n=+n,function(a){return e*(1-a)+n*a}}function jo(e,n){var a={},h={},r;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(r in n)r in e?a[r]=Kt(e[r],n[r]):h[r]=n[r];return function(t){for(r in a)h[r]=a[r](t);return h}}var Lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Et=new RegExp(Lt.source,"g");function es(e){return function(){return e}}function ts(e){return function(n){return e(n)+""}}function di(e,n){var a=Lt.lastIndex=Et.lastIndex=0,h,r,t,o=-1,s=[],l=[];for(e=e+"",n=n+"";(h=Lt.exec(e))&&(r=Et.exec(n));)(t=r.index)>a&&(t=n.slice(a,t),s[o]?s[o]+=t:s[++o]=t),(h=h[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Z(h,r)})),a=Et.lastIndex;return a<n.length&&(t=n.slice(a),s[o]?s[o]+=t:s[++o]=t),s.length<2?l[0]?ts(l[0].x):es(n):(n=l.length,function(u){for(var f=0,p;f<n;++f)s[(p=l[f]).i]=p.x(u);return s.join("")})}function Kt(e,n){var a=typeof n,h;return n==null||a==="boolean"?Yt(n):(a==="number"?Z:a==="string"?(h=pe(n))?(n=h,ut):di:n instanceof pe?ut:n instanceof Date?qo:Zo(n)?Qo:Array.isArray(n)?Jo:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?jo:Z)(e,n)}function ns(e,n){return e=+e,n=+n,function(a){return Math.round(e*(1-a)+n*a)}}var Bn=180/Math.PI,bt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mi(e,n,a,h,r,t){var o,s,l;return(o=Math.sqrt(e*e+n*n))&&(e/=o,n/=o),(l=e*a+n*h)&&(a-=e*l,h-=n*l),(s=Math.sqrt(a*a+h*h))&&(a/=s,h/=s,l/=s),e*h<n*a&&(e=-e,n=-n,l=-l,o=-o),{translateX:r,translateY:t,rotate:Math.atan2(n,e)*Bn,skewX:Math.atan(l)*Bn,scaleX:o,scaleY:s}}var Qe;function is(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?bt:mi(n.a,n.b,n.c,n.d,n.e,n.f)}function rs(e){return e==null||(Qe||(Qe=document.createElementNS("http://www.w3.org/2000/svg","g")),Qe.setAttribute("transform",e),!(e=Qe.transform.baseVal.consolidate()))?bt:(e=e.matrix,mi(e.a,e.b,e.c,e.d,e.e,e.f))}function xi(e,n,a,h){function r(u){return u.length?u.pop()+" ":""}function t(u,f,p,c,i,v){if(u!==p||f!==c){var g=i.push("translate(",null,n,null,a);v.push({i:g-4,x:Z(u,p)},{i:g-2,x:Z(f,c)})}else(p||c)&&i.push("translate("+p+n+c+a)}function o(u,f,p,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:p.push(r(p)+"rotate(",null,h)-2,x:Z(u,f)})):f&&p.push(r(p)+"rotate("+f+h)}function s(u,f,p,c){u!==f?c.push({i:p.push(r(p)+"skewX(",null,h)-2,x:Z(u,f)}):f&&p.push(r(p)+"skewX("+f+h)}function l(u,f,p,c,i,v){if(u!==p||f!==c){var g=i.push(r(i)+"scale(",null,",",null,")");v.push({i:g-4,x:Z(u,p)},{i:g-2,x:Z(f,c)})}else(p!==1||c!==1)&&i.push(r(i)+"scale("+p+","+c+")")}return function(u,f){var p=[],c=[];return u=e(u),f=e(f),t(u.translateX,u.translateY,f.translateX,f.translateY,p,c),o(u.rotate,f.rotate,p,c),s(u.skewX,f.skewX,p,c),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,p,c),u=f=null,function(i){for(var v=-1,g=c.length,d;++v<g;)p[(d=c[v]).i]=d.x(i);return p.join("")}}}var as=xi(is,"px, ","px)","deg)"),os=xi(rs,", ",")",")"),Pe=0,Be=0,Re=0,yi=1e3,ct,_e,ht=0,de=0,mt=0,be=typeof performance=="object"&&performance.now?performance:Date,wi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qt(){return de||(wi(ss),de=be.now()+mt)}function ss(){de=0}function vt(){this._call=this._time=this._next=null}vt.prototype=Si.prototype={constructor:vt,restart:function(e,n,a){if(typeof e!="function")throw new TypeError("callback is not a function");a=(a==null?Qt():+a)+(n==null?0:+n),!this._next&&_e!==this&&(_e?_e._next=this:ct=this,_e=this),this._call=e,this._time=a,Ot()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ot())}};function Si(e,n,a){var h=new vt;return h.restart(e,n,a),h}function ls(){Qt(),++Pe;for(var e=ct,n;e;)(n=de-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Pe}function _n(){de=(ht=be.now())+mt,Pe=Be=0;try{ls()}finally{Pe=0,us(),de=0}}function fs(){var e=be.now(),n=e-ht;n>yi&&(mt-=n,ht=e)}function us(){for(var e,n=ct,a,h=1/0;n;)n._call?(h>n._time&&(h=n._time),e=n,n=n._next):(a=n._next,n._next=null,n=e?e._next=a:ct=a);_e=e,Ot(h)}function Ot(e){if(!Pe){Be&&(Be=clearTimeout(Be));var n=e-de;n>24?(e<1/0&&(Be=setTimeout(_n,e-be.now()-mt)),Re&&(Re=clearInterval(Re))):(Re||(ht=be.now(),Re=setInterval(fs,yi)),Pe=1,wi(_n))}}function Nn(e,n,a){var h=new vt;return n=n==null?0:+n,h.restart(r=>{h.stop(),e(r+n)},n,a),h}var cs=ti("start","end","cancel","interrupt"),hs=[],Mi=0,Dn=1,Vt=2,tt=3,Fn=4,$t=5,nt=6;function xt(e,n,a,h,r,t){var o=e.__transition;if(!o)e.__transition={};else if(a in o)return;vs(e,a,{name:n,index:h,group:r,on:cs,tween:hs,time:t.time,delay:t.delay,duration:t.duration,ease:t.ease,timer:null,state:Mi})}function Zt(e,n){var a=ee(e,n);if(a.state>Mi)throw new Error("too late; already scheduled");return a}function re(e,n){var a=ee(e,n);if(a.state>tt)throw new Error("too late; already running");return a}function ee(e,n){var a=e.__transition;if(!a||!(a=a[n]))throw new Error("transition not found");return a}function vs(e,n,a){var h=e.__transition,r;h[n]=a,a.timer=Si(t,0,a.time);function t(u){a.state=Dn,a.timer.restart(o,a.delay,a.time),a.delay<=u&&o(u-a.delay)}function o(u){var f,p,c,i;if(a.state!==Dn)return l();for(f in h)if(i=h[f],i.name===a.name){if(i.state===tt)return Nn(o);i.state===Fn?(i.state=nt,i.timer.stop(),i.on.call("interrupt",e,e.__data__,i.index,i.group),delete h[f]):+f<n&&(i.state=nt,i.timer.stop(),i.on.call("cancel",e,e.__data__,i.index,i.group),delete h[f])}if(Nn(function(){a.state===tt&&(a.state=Fn,a.timer.restart(s,a.delay,a.time),s(u))}),a.state=Vt,a.on.call("start",e,e.__data__,a.index,a.group),a.state===Vt){for(a.state=tt,r=new Array(c=a.tween.length),f=0,p=-1;f<c;++f)(i=a.tween[f].value.call(e,e.__data__,a.index,a.group))&&(r[++p]=i);r.length=p+1}}function s(u){for(var f=u<a.duration?a.ease.call(null,u/a.duration):(a.timer.restart(l),a.state=$t,1),p=-1,c=r.length;++p<c;)r[p].call(e,f);a.state===$t&&(a.on.call("end",e,e.__data__,a.index,a.group),l())}function l(){a.state=nt,a.timer.stop(),delete h[n];for(var u in h)return;delete e.__transition}}function gs(e,n){var a=e.__transition,h,r,t=!0,o;if(a){n=n==null?null:n+"";for(o in a){if((h=a[o]).name!==n){t=!1;continue}r=h.state>Vt&&h.state<$t,h.state=nt,h.timer.stop(),h.on.call(r?"interrupt":"cancel",e,e.__data__,h.index,h.group),delete a[o]}t&&delete e.__transition}}function ps(e){return this.each(function(){gs(this,e)})}function ds(e,n){var a,h;return function(){var r=re(this,e),t=r.tween;if(t!==a){h=a=t;for(var o=0,s=h.length;o<s;++o)if(h[o].name===n){h=h.slice(),h.splice(o,1);break}}r.tween=h}}function ms(e,n,a){var h,r;if(typeof a!="function")throw new Error;return function(){var t=re(this,e),o=t.tween;if(o!==h){r=(h=o).slice();for(var s={name:n,value:a},l=0,u=r.length;l<u;++l)if(r[l].name===n){r[l]=s;break}l===u&&r.push(s)}t.tween=r}}function xs(e,n){var a=this._id;if(e+="",arguments.length<2){for(var h=ee(this.node(),a).tween,r=0,t=h.length,o;r<t;++r)if((o=h[r]).name===e)return o.value;return null}return this.each((n==null?ds:ms)(a,e,n))}function Jt(e,n,a){var h=e._id;return e.each(function(){var r=re(this,h);(r.value||(r.value={}))[n]=a.apply(this,arguments)}),function(r){return ee(r,h).value[n]}}function Ci(e,n){var a;return(typeof n=="number"?Z:n instanceof pe?ut:(a=pe(n))?(n=a,ut):di)(e,n)}function ys(e){return function(){this.removeAttribute(e)}}function ws(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ss(e,n,a){var h,r=a+"",t;return function(){var o=this.getAttribute(e);return o===r?null:o===h?t:t=n(h=o,a)}}function Ms(e,n,a){var h,r=a+"",t;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===h?t:t=n(h=o,a)}}function Cs(e,n,a){var h,r,t;return function(){var o,s=a(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===h&&l===r?t:(r=l,t=n(h=o,s)))}}function Ps(e,n,a){var h,r,t;return function(){var o,s=a(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===h&&l===r?t:(r=l,t=n(h=o,s)))}}function As(e,n){var a=dt(e),h=a==="transform"?os:Ci;return this.attrTween(e,typeof n=="function"?(a.local?Ps:Cs)(a,h,Jt(this,"attr."+e,n)):n==null?(a.local?ws:ys)(a):(a.local?Ms:Ss)(a,h,n))}function Ts(e,n){return function(a){this.setAttribute(e,n.call(this,a))}}function Is(e,n){return function(a){this.setAttributeNS(e.space,e.local,n.call(this,a))}}function Es(e,n){var a,h;function r(){var t=n.apply(this,arguments);return t!==h&&(a=(h=t)&&Is(e,t)),a}return r._value=n,r}function ks(e,n){var a,h;function r(){var t=n.apply(this,arguments);return t!==h&&(a=(h=t)&&Ts(e,t)),a}return r._value=n,r}function Rs(e,n){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;var h=dt(e);return this.tween(a,(h.local?Es:ks)(h,n))}function Bs(e,n){return function(){Zt(this,e).delay=+n.apply(this,arguments)}}function _s(e,n){return n=+n,function(){Zt(this,e).delay=n}}function Ns(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Bs:_s)(n,e)):ee(this.node(),n).delay}function Ds(e,n){return function(){re(this,e).duration=+n.apply(this,arguments)}}function Fs(e,n){return n=+n,function(){re(this,e).duration=n}}function Ls(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Ds:Fs)(n,e)):ee(this.node(),n).duration}function bs(e,n){if(typeof n!="function")throw new Error;return function(){re(this,e).ease=n}}function Os(e){var n=this._id;return arguments.length?this.each(bs(n,e)):ee(this.node(),n).ease}function Vs(e,n){return function(){var a=n.apply(this,arguments);if(typeof a!="function")throw new Error;re(this,e).ease=a}}function $s(e){if(typeof e!="function")throw new Error;return this.each(Vs(this._id,e))}function Hs(e){typeof e!="function"&&(e=ri(e));for(var n=this._groups,a=n.length,h=new Array(a),r=0;r<a;++r)for(var t=n[r],o=t.length,s=h[r]=[],l,u=0;u<o;++u)(l=t[u])&&e.call(l,l.__data__,u,t)&&s.push(l);return new se(h,this._parents,this._name,this._id)}function Us(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,a=e._groups,h=n.length,r=a.length,t=Math.min(h,r),o=new Array(h),s=0;s<t;++s)for(var l=n[s],u=a[s],f=l.length,p=o[s]=new Array(f),c,i=0;i<f;++i)(c=l[i]||u[i])&&(p[i]=c);for(;s<h;++s)o[s]=n[s];return new se(o,this._parents,this._name,this._id)}function zs(e){return(e+"").trim().split(/^|\s+/).every(function(n){var a=n.indexOf(".");return a>=0&&(n=n.slice(0,a)),!n||n==="start"})}function Ws(e,n,a){var h,r,t=zs(n)?Zt:re;return function(){var o=t(this,e),s=o.on;s!==h&&(r=(h=s).copy()).on(n,a),o.on=r}}function Gs(e,n){var a=this._id;return arguments.length<2?ee(this.node(),a).on.on(e):this.each(Ws(a,e,n))}function Xs(e){return function(){var n=this.parentNode;for(var a in this.__transition)if(+a!==e)return;n&&n.removeChild(this)}}function Ys(){return this.on("end.remove",Xs(this._id))}function Ks(e){var n=this._name,a=this._id;typeof e!="function"&&(e=Wt(e));for(var h=this._groups,r=h.length,t=new Array(r),o=0;o<r;++o)for(var s=h[o],l=s.length,u=t[o]=new Array(l),f,p,c=0;c<l;++c)(f=s[c])&&(p=e.call(f,f.__data__,c,s))&&("__data__"in f&&(p.__data__=f.__data__),u[c]=p,xt(u[c],n,a,c,u,ee(f,a)));return new se(t,this._parents,n,a)}function Qs(e){var n=this._name,a=this._id;typeof e!="function"&&(e=ii(e));for(var h=this._groups,r=h.length,t=[],o=[],s=0;s<r;++s)for(var l=h[s],u=l.length,f,p=0;p<u;++p)if(f=l[p]){for(var c=e.call(f,f.__data__,p,l),i,v=ee(f,a),g=0,d=c.length;g<d;++g)(i=c[g])&&xt(i,n,a,g,c,v);t.push(c),o.push(f)}return new se(t,o,n,a)}var Zs=Ue.prototype.constructor;function Js(){return new Zs(this._groups,this._parents)}function qs(e,n){var a,h,r;return function(){var t=Ce(this,e),o=(this.style.removeProperty(e),Ce(this,e));return t===o?null:t===a&&o===h?r:r=n(a=t,h=o)}}function Pi(e){return function(){this.style.removeProperty(e)}}function js(e,n,a){var h,r=a+"",t;return function(){var o=Ce(this,e);return o===r?null:o===h?t:t=n(h=o,a)}}function el(e,n,a){var h,r,t;return function(){var o=Ce(this,e),s=a(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Ce(this,e))),o===l?null:o===h&&l===r?t:(r=l,t=n(h=o,s))}}function tl(e,n){var a,h,r,t="style."+n,o="end."+t,s;return function(){var l=re(this,e),u=l.on,f=l.value[t]==null?s||(s=Pi(n)):void 0;(u!==a||r!==f)&&(h=(a=u).copy()).on(o,r=f),l.on=h}}function nl(e,n,a){var h=(e+="")=="transform"?as:Ci;return n==null?this.styleTween(e,qs(e,h)).on("end.style."+e,Pi(e)):typeof n=="function"?this.styleTween(e,el(e,h,Jt(this,"style."+e,n))).each(tl(this._id,e)):this.styleTween(e,js(e,h,n),a).on("end.style."+e,null)}function il(e,n,a){return function(h){this.style.setProperty(e,n.call(this,h),a)}}function rl(e,n,a){var h,r;function t(){var o=n.apply(this,arguments);return o!==r&&(h=(r=o)&&il(e,o,a)),h}return t._value=n,t}function al(e,n,a){var h="style."+(e+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(n==null)return this.tween(h,null);if(typeof n!="function")throw new Error;return this.tween(h,rl(e,n,a??""))}function ol(e){return function(){this.textContent=e}}function sl(e){return function(){var n=e(this);this.textContent=n??""}}function ll(e){return this.tween("text",typeof e=="function"?sl(Jt(this,"text",e)):ol(e==null?"":e+""))}function fl(e){return function(n){this.textContent=e.call(this,n)}}function ul(e){var n,a;function h(){var r=e.apply(this,arguments);return r!==a&&(n=(a=r)&&fl(r)),n}return h._value=e,h}function cl(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,ul(e))}function hl(){for(var e=this._name,n=this._id,a=Ai(),h=this._groups,r=h.length,t=0;t<r;++t)for(var o=h[t],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var f=ee(l,n);xt(l,e,a,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new se(h,this._parents,e,a)}function vl(){var e,n,a=this,h=a._id,r=a.size();return new Promise(function(t,o){var s={value:o},l={value:function(){--r===0&&t()}};a.each(function(){var u=re(this,h),f=u.on;f!==e&&(n=(e=f).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),u.on=n}),r===0&&t()})}var gl=0;function se(e,n,a,h){this._groups=e,this._parents=n,this._name=a,this._id=h}function Ai(){return++gl}var oe=Ue.prototype;se.prototype={constructor:se,select:Ks,selectAll:Qs,selectChild:oe.selectChild,selectChildren:oe.selectChildren,filter:Hs,merge:Us,selection:Js,transition:hl,call:oe.call,nodes:oe.nodes,node:oe.node,size:oe.size,empty:oe.empty,each:oe.each,on:Gs,attr:As,attrTween:Rs,style:nl,styleTween:al,text:ll,textTween:cl,remove:Ys,tween:xs,delay:Ns,duration:Ls,ease:Os,easeVarying:$s,end:vl,[Symbol.iterator]:oe[Symbol.iterator]};function pl(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dl={time:null,delay:0,duration:250,ease:pl};function ml(e,n){for(var a;!(a=e.__transition)||!(a=a[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return a}function xl(e){var n,a;e instanceof se?(n=e._id,e=e._name):(n=Ai(),(a=dl).time=Qt(),e=e==null?null:e+"");for(var h=this._groups,r=h.length,t=0;t<r;++t)for(var o=h[t],s=o.length,l,u=0;u<s;++u)(l=o[u])&&xt(l,e,n,u,o,a||ml(l,n));return new se(h,this._parents,e,n)}Ue.prototype.interrupt=ps;Ue.prototype.transition=xl;function yl(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gt(e,n){if((a=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var a,h=e.slice(0,a);return[h.length>1?h[0]+h.slice(2):h,+e.slice(a+1)]}function Ae(e){return e=gt(Math.abs(e)),e?e[1]:NaN}function wl(e,n){return function(a,h){for(var r=a.length,t=[],o=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>h&&(s=Math.max(1,h-l)),t.push(a.substring(r-=s,r+s)),!((l+=s+1)>h));)s=e[o=(o+1)%e.length];return t.reverse().join(n)}}function Sl(e){return function(n){return n.replace(/[0-9]/g,function(a){return e[+a]})}}var Ml=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pt(e){if(!(n=Ml.exec(e)))throw new Error("invalid format: "+e);var n;return new qt({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}pt.prototype=qt.prototype;function qt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cl(e){e:for(var n=e.length,a=1,h=-1,r;a<n;++a)switch(e[a]){case".":h=r=a;break;case"0":h===0&&(h=a),r=a;break;default:if(!+e[a])break e;h>0&&(h=0);break}return h>0?e.slice(0,h)+e.slice(r+1):e}var Ti;function Pl(e,n){var a=gt(e,n);if(!a)return e+"";var h=a[0],r=a[1],t=r-(Ti=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=h.length;return t===o?h:t>o?h+new Array(t-o+1).join("0"):t>0?h.slice(0,t)+"."+h.slice(t):"0."+new Array(1-t).join("0")+gt(e,Math.max(0,n+t-1))[0]}function Ln(e,n){var a=gt(e,n);if(!a)return e+"";var h=a[0],r=a[1];return r<0?"0."+new Array(-r).join("0")+h:h.length>r+1?h.slice(0,r+1)+"."+h.slice(r+1):h+new Array(r-h.length+2).join("0")}const bn={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yl,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>Ln(e*100,n),r:Ln,s:Pl,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function On(e){return e}var Vn=Array.prototype.map,$n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Al(e){var n=e.grouping===void 0||e.thousands===void 0?On:wl(Vn.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",h=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",t=e.numerals===void 0?On:Sl(Vn.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(p){p=pt(p);var c=p.fill,i=p.align,v=p.sign,g=p.symbol,d=p.zero,y=p.width,P=p.comma,T=p.precision,E=p.trim,m=p.type;m==="n"?(P=!0,m="g"):bn[m]||(T===void 0&&(T=12),E=!0,m="g"),(d||c==="0"&&i==="=")&&(d=!0,c="0",i="=");var x=g==="$"?a:g==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",M=g==="$"?h:/[%p]/.test(m)?o:"",w=bn[m],C=/[defgprs%]/.test(m);T=T===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function S(A){var I=x,k=M,B,R,N;if(m==="c")k=w(A)+k,A="";else{A=+A;var _=A<0||1/A<0;if(A=isNaN(A)?l:w(Math.abs(A),T),E&&(A=Cl(A)),_&&+A==0&&v!=="+"&&(_=!1),I=(_?v==="("?v:s:v==="-"||v==="("?"":v)+I,k=(m==="s"?$n[8+Ti/3]:"")+k+(_&&v==="("?")":""),C){for(B=-1,R=A.length;++B<R;)if(N=A.charCodeAt(B),48>N||N>57){k=(N===46?r+A.slice(B+1):A.slice(B))+k,A=A.slice(0,B);break}}}P&&!d&&(A=n(A,1/0));var D=I.length+A.length+k.length,F=D<y?new Array(y-D+1).join(c):"";switch(P&&d&&(A=n(F+A,F.length?y-k.length:1/0),F=""),i){case"<":A=I+A+k+F;break;case"=":A=I+F+A+k;break;case"^":A=F.slice(0,D=F.length>>1)+I+A+k+F.slice(D);break;default:A=F+I+A+k;break}return t(A)}return S.toString=function(){return p+""},S}function f(p,c){var i=u((p=pt(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(Ae(c)/3)))*3,g=Math.pow(10,-v),d=$n[8+v/3];return function(y){return i(g*y)+d}}return{format:u,formatPrefix:f}}var Ze,Ii,Ei;Tl({thousands:",",grouping:[3],currency:["$",""]});function Tl(e){return Ze=Al(e),Ii=Ze.format,Ei=Ze.formatPrefix,Ze}function Il(e){return Math.max(0,-Ae(Math.abs(e)))}function El(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ae(n)/3)))*3-Ae(Math.abs(e)))}function kl(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Ae(n)-Ae(e))+1}function Rl(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function Bl(e){return function(){return e}}function _l(e){return+e}var Hn=[0,1];function xe(e){return e}function Ht(e,n){return(n-=e=+e)?function(a){return(a-e)/n}:Bl(isNaN(n)?NaN:.5)}function Nl(e,n){var a;return e>n&&(a=e,e=n,n=a),function(h){return Math.max(e,Math.min(n,h))}}function Dl(e,n,a){var h=e[0],r=e[1],t=n[0],o=n[1];return r<h?(h=Ht(r,h),t=a(o,t)):(h=Ht(h,r),t=a(t,o)),function(s){return t(h(s))}}function Fl(e,n,a){var h=Math.min(e.length,n.length)-1,r=new Array(h),t=new Array(h),o=-1;for(e[h]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<h;)r[o]=Ht(e[o],e[o+1]),t[o]=a(n[o],n[o+1]);return function(s){var l=Gr(e,s,1,h)-1;return t[l](r[l](s))}}function Ll(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bl(){var e=Hn,n=Hn,a=Kt,h,r,t,o=xe,s,l,u;function f(){var c=Math.min(e.length,n.length);return o!==xe&&(o=Nl(e[0],e[c-1])),s=c>2?Fl:Dl,l=u=null,p}function p(c){return c==null||isNaN(c=+c)?t:(l||(l=s(e.map(h),n,a)))(h(o(c)))}return p.invert=function(c){return o(r((u||(u=s(n,e.map(h),Z)))(c)))},p.domain=function(c){return arguments.length?(e=Array.from(c,_l),f()):e.slice()},p.range=function(c){return arguments.length?(n=Array.from(c),f()):n.slice()},p.rangeRound=function(c){return n=Array.from(c),a=ns,f()},p.clamp=function(c){return arguments.length?(o=c?!0:xe,f()):o!==xe},p.interpolate=function(c){return arguments.length?(a=c,f()):a},p.unknown=function(c){return arguments.length?(t=c,p):t},function(c,i){return h=c,r=i,f()}}function Ol(){return bl()(xe,xe)}function Vl(e,n,a,h){var r=Zr(e,n,a),t;switch(h=pt(h??",f"),h.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(n));return h.precision==null&&!isNaN(t=El(r,o))&&(h.precision=t),Ei(h,o)}case"":case"e":case"g":case"p":case"r":{h.precision==null&&!isNaN(t=kl(r,Math.max(Math.abs(e),Math.abs(n))))&&(h.precision=t-(h.type==="e"));break}case"f":case"%":{h.precision==null&&!isNaN(t=Il(r))&&(h.precision=t-(h.type==="%")*2);break}}return Ii(h)}function $l(e){var n=e.domain;return e.ticks=function(a){var h=n();return Qr(h[0],h[h.length-1],a??10)},e.tickFormat=function(a,h){var r=n();return Vl(r[0],r[r.length-1],a??10,h)},e.nice=function(a){a==null&&(a=10);var h=n(),r=0,t=h.length-1,o=h[r],s=h[t],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=r,r=t,t=u);f-- >0;){if(u=Nt(o,s,a),u===l)return h[r]=o,h[t]=s,n(h);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function ki(){var e=Ol();return e.copy=function(){return Ll(e,ki())},Rl.apply(e,arguments),$l(e)}function Ne(e,n,a){this.k=e,this.x=n,this.y=a}Ne.prototype={constructor:Ne,scale:function(e){return e===1?this:new Ne(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Ne(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ne.prototype;function Ri(e){return new Promise((n,a)=>{const h=new Image;h.onload=()=>n(h),h.onerror=()=>a(`error loading ${e}`),h.src=e})}const G=1e3,Un=.01,Bi=5,zn=.005,Hl=.1;ki().domain([.1,Bi/2]).clamp(!0).range([1,1.5]);class Ul{constructor(){this.events={}}on(n,a){this.events[n]||(this.events[n]=[]),this.events[n].push(a)}emit(n,a){this.events[n]&&this.events[n].forEach(h=>h(a))}}function zl(){const e=new Ul;let n,a,h,r,t,o,s,l;function u(){const C=Hl,S=me,A=qe,I=me,k=qe;t=O.Bodies.rectangle(S,A,I,k,{frictionAir:C,render:{fillStyle:"#a0a",visible:!1},label:"mower",sleepThreshold:1/0,isSleeping:!1,isStatic:!1}),O.Events.on(t,"sleepStart",d),O.Composite.add(a,t)}function f(){const C=O.Bodies.rectangle(300,300,200,100,{isStatic:!0,isSleeping:!0,render:{fillStyle:"#000",opacity:1},label:"obstacle"}),S=O.Bodies.circle(700,600,150,{isStatic:!0,isSleeping:!0,render:{fillStyle:"#000"},label:"obstacle"});O.Composite.add(a,[C,S])}function p(){const C=[];for(let S=0;S<4;S++){const A=S%2===0?G:10,I=S%2===1?G:10,k=S%2===0?G/2:S===1?G:0,B=S%2===1?G/2:S===2?G:0,R=O.Bodies.rectangle(k,B,A,I,{isStatic:!0,isSleeping:!0,label:"fence",render:{fillStyle:"#000"}});C.push(R)}O.Composite.add(a,C)}function c(){const C=t.angle;let S=t.position.x,A=t.position.y;S=S+Math.cos(C)*me/6,A=A+Math.sin(C)*me/6;const I=Math.round(S),k=Math.round(A),B=[],R=$r-1,N=R*R;for(let _=-R;_<R;_++)for(let D=-R;D<R;D++)if(_*_+D*D<=N){const b=I+_,V=k+D;b>=0&&b<G&&V>=0&&V<G&&(o[b][V]=!0,B.push({x:b,y:V}))}e.emit("pixels",B)}function i(){c(),e.emit("update",r.bounds)}function v(){l&&(O.Render.startViewTransform(r),g(),O.Render.endViewTransform(r))}function g(){const C=r.context,{x:S,y:A}=t.position,I=me,k=qe,R=Math.floor(Date.now()/200%1)*me;C.translate(S,A),C.rotate(t.angle),C.drawImage(s,R,0,s.width,s.height,-I/2,-k/2,I,k)}function d(C){}function y(C){C.includes("left")?O.Body.rotate(t,-Un):C.includes("right")&&O.Body.rotate(t,Un),C.includes("up")?P("forward"):C.includes("down")&&P("reverse"),T(Bi)}function P(C){const S=t.angle,A={x:Math.cos(C==="forward"?S:S+Math.PI)*zn,y:Math.sin(C==="forward"?S:S+Math.PI)*zn};O.Body.applyForce(t,t.position,A)}function T(C){const S=t.speed;if(S>C){const A=C/S;O.Body.setVelocity(t,{x:t.velocity.x*A,y:t.velocity.y*A})}}function E(C){}function m(C){}function x(C){r&&(r.canvas.width=C,r.canvas.height=C,O.Render.setSize(r,C,C),O.Render,O.Render.lookAt(r,{min:{x:0,y:0},max:{x:G,y:G}}))}async function M(){s=await Ri("assets/sprites/mower.png"),l=!0,e.emit("ready")}function w(C){o=Array.from({length:G},()=>Array(G).fill(!1)),n=O.Engine.create({enableSleeping:!0}),a=n.world,n.gravity.y=0,h=O.Runner.create(),r=O.Render.create({element:C,engine:n,options:{width:G,height:G,wireframes:!1,pixelRatio:"auto",background:"transparent",hasBounds:!0}}),O.Runner.run(h,n),O.Render.run(r),O.Events.on(r,"afterRender",v),O.Events.on(n,"afterUpdate",i),u(),p(),f(),M()}return{setState:E,autoMute:m,resize:x,init:w,steer:y,on:(C,S)=>e.on(C,S)}}var Wl=He('<div class="c svelte-1q6915f"><div class="bg svelte-1q6915f"><img src="assets/images/keanu.jpg" alt="keanu face" class="svelte-1q6915f"> <canvas class="mowed svelte-1q6915f" width="1000" height="1000"></canvas> <canvas width="1000" height="1000" class="svelte-1q6915f"></canvas></div> <div class="fg svelte-1q6915f"></div></div>');function Gl(e,n){Kn(n,!0);let a=Me(void 0),h=Me(!1),r=at({}),t,o,s,l;const u=zl();function f(x){x.key==="ArrowUp"?r.up=!0:x.key==="ArrowDown"?r.down=!0:x.key==="ArrowLeft"?r.left=!0:x.key==="ArrowRight"&&(r.right=!0)}function p(x){x.key==="ArrowUp"?r.up=!1:x.key==="ArrowDown"?r.down=!1:x.key==="ArrowLeft"?r.left=!1:x.key==="ArrowRight"&&(r.right=!1)}function c(){J(h)&&u.resize(n.size)}function i(){const x=Object.keys(r).filter(M=>r[M]);x.length&&u.steer(x),requestAnimationFrame(i)}function v(x){o.fillStyle="#0c0",x.forEach(M=>o.fillRect(M.x,M.y,1,1))}function g(x){const M=x.max.x-x.min.x,w=x.max.y-x.min.y,C=1e3/M,S=1e3/w;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,1e3,1e3),l.scale(C,S),l.translate(-x.min.x,-x.min.y),l.drawImage(t,0,0)}async function d(){l=s.getContext("2d"),o=t.getContext("2d"),u.on("ready",()=>Se(h,!0)),u.on("pixels",v),u.on("update",g),u.init(J(a)),requestAnimationFrame(i),await Ri("assets/images/keanu.jpg")}Rt(d),Rt(c);var y=Wl();Bt("keydown",gn,f),Bt("keyup",gn,p);var P=it(y),T=z(it(P),2);Je(T,x=>t=x,()=>t);var E=z(T,2);Je(E,x=>s=x,()=>s),rt(P);var m=z(P,2);Je(m,x=>Se(a,x),()=>J(a)),rt(y),kt(()=>{xn(m,"width",`${n.size??""}px`),xn(m,"height",`${n.size??""}px`)}),De(e,y),Qn()}function Xl(){var e;return((e=window==null?void 0:window.visualViewport)==null?void 0:e.width)||document.documentElement.clientWidth}function Yl(){var e;return((e=window==null?void 0:window.visualViewport)==null?void 0:e.height)||document.documentElement.clientHeight}var Oe,Ve,we,$e,Ut;class Kl{constructor(){Ie(this,$e);Ie(this,Oe,Me(0));Ie(this,Ve,Me(0));Ie(this,we);Rt(()=>(Mt(this,$e,Ut).call(this),ln(this,we,qn(Mt(this,$e,Ut).bind(this),250)),window.addEventListener("resize",ue(this,we)),()=>{window.removeEventListener("resize",ue(this,we))}))}get width(){return J(ue(this,Oe))}set width(n){Se(ue(this,Oe),at(n))}get height(){return J(ue(this,Ve))}set height(n){Se(ue(this,Ve),at(n))}}Oe=new WeakMap,Ve=new WeakMap,we=new WeakMap,$e=new WeakSet,Ut=function(){this.width=Xl(),this.height=Yl()};var Ql=He('<p class="svelte-1h8tmn0">How fast can you <select class="svelte-1h8tmn0"><option>mow this lawn?</option><option>vacuum this rug?</option><option>shave Keanu’s face?</option></select></p> <div class="c svelte-1h8tmn0"><figure class="svelte-1h8tmn0"><!></figure></div>',1);function Zl(e){const n=new Kl;let a=Me(void 0),h=Me(0),r=sr(()=>Math.min(J(h),n.height));function t(){Se(h,at(J(a).offsetWidth))}var o=Ql(),s=z(zt(o),2),l=it(s);Je(l,f=>Se(a,f),()=>J(a));var u=it(l);fr(u,()=>J(r),f=>{Gl(f,{get size(){return J(r)}})}),rt(l),rt(s),Bt("resize",l,t),pr(l,(f,p)=>Or(f,p),()=>({debounce:250,start:!0})),De(e,o)}const Jl={title:"Title TK",description:"Description tk."},ql=[{section:"intro",content:[{type:"h4",value:"An h4 element with no attributes"},{type:"text",value:"Some random text here, followed by an img tag."},{type:"img",value:{src:"../assets/demo/test.jpg",alt:"A cat"}},{type:"Test",value:{label:"I’m a custom component!",value:"50"}}]}],Wn={meta:Jl,body:ql};function jl(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 6.0.0"),console.log("build: 2024-10-28-15:05"),console.log("--- --- --- --- --- ---")}var ef=He("<!> <!>",1);function sf(e,n){Kn(n,!0),jl();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Regular-Web.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Bold-Web.woff2"],{title:h,description:r,url:t,keywords:o}=Wn;pn("copy",Wn),pn("data",n.data);var s=ef(),l=zt(s);yr(l,{title:h,description:r,url:t,preloadFont:a,keywords:o});var u=z(l,2);Zl(u),De(e,s),Qn()}export{sf as component};
